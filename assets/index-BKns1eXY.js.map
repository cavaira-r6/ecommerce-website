{"version":3,"mappings":"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","names":["formatPrice","price","shuffleArray","array","shuffled","i","j","isValidEmail","email","isValidPassword","password","getFromStorage","key","item","error","setToStorage","value","removeFromStorage","generateId","API_BASE_URL","initialState","authReducer","state","action","AuthContext","createContext","AuthProvider","children","dispatch","useReducer","useEffect","storedUser","storedToken","credentials","data","user","token","userData","updatedUser","jsx","useAuth","context","useContext","useIsAuthenticated","useIsAdmin","calculateTotals","items","totalItems","sum","totalPrice","cartReducer","existingItemIndex","newItems","index","CartContext","CartProvider","storedCart","addToCart","product","quantity","cartItem","removeFromCart","itemId","productId","useCart","useCartItemCount","WishlistContext","wishlistReducer","WishlistProvider","savedWishlist","parsedWishlist","addToWishlist","wishlistItem","removeFromWishlist","clearWishlist","isInWishlist","useWishlist","ThemeContext","ThemeProvider","theme","useState","root","toggleTheme","ErrorBoundary","Component","errorInfo","jsxs","API_URL","fetchProducts","response","getProductById","id","searchProducts","query","getProductCategories","SearchBar","className","placeholder","setQuery","suggestions","setSuggestions","showSuggestions","setShowSuggestions","selectedIndex","setSelectedIndex","searchRef","useRef","navigate","useNavigate","results","handleClickOutside","event","handleKeyDown","e","prev","handleSuggestionClick","handleSearch","clearSearch","Search","X","Button","variant","size","disabled","loading","onClick","type","baseClasses","variantClasses","sizeClasses","classes","Navbar","isMobileMenuOpen","setIsMobileMenuOpen","isUserMenuOpen","setIsUserMenuOpen","isAuthenticated","isAdmin","cartItemCount","logout","handleLogout","navLinks","motion","Link","Package","link","Heart","ShoppingCart","User","Settings","LogOut","Menu","Footer","currentYear","MapPin","Phone","Mail","AnimatedBackground","React","__vitePreload","Layout","Suspense","useLocalStorage","initialValue","storedValue","setStoredValue","valueToStore","wishlistItems","setWishlistItems","showToast","setShowToast","toastMessage","setToastMessage","timer","useAnalytics","options","eventName","eventData","QuickViewModal","isOpen","onClose","onAddToCart","ProductCard","isInCart","trackEvent","isQuickViewOpen","setIsQuickViewOpen","handleAddToCart","handleQuickView","handleWishlistClick","discountPercentage","enrichedProduct","Fragment","_","Star","HomePage","featuredProducts","setFeaturedProducts","isLoading","setIsLoading","showScrollTop","setShowScrollTop","searchQuery","setSearchQuery","handleScroll","scrollToTop","transformedProducts","ArrowRight","Truck","Shield","Headphones","form","result","AnimatePresence","ArrowUp","CartPage","updateQuantity","clearCart","ShoppingBag","Minus","Plus","Trash2","WishlistPage","wishlistState","CheckoutPage","authState","currentStep","setCurrentStep","selectedPaymentMethod","setSelectedPaymentMethod","isProcessing","setIsProcessing","orderComplete","setOrderComplete","orderId","setOrderId","shippingInfo","setShippingInfo","tunisianGovernorates","paymentMethods","Smartphone","handleShippingSubmit","handlePaymentSubmit","orderData","paymentResponse","CheckCircle","governorate","method","Loader2","Lock","Input","forwardRef","label","onChange","required","props","ref","inputClasses","ContactPage","isSubmitting","setIsSubmitting","isSubmitted","setIsSubmitted","register","handleSubmit","errors","reset","useForm","onSubmit","Clock","Send","AboutPage","Award","Users","Globe","LoginPage","showPassword","setShowPassword","setError","login","from","useLocation","LogIn","EyeOff","Eye","SignupPage","showConfirmPassword","setShowConfirmPassword","signup","watch","UserPlus","DashboardOverview","sending","setSending","productName","setProductName","productUrl","setProductUrl","setResult","ProductsManager","products","setProducts","showAddForm","setShowAddForm","showEditForm","setShowEditForm","editingProduct","setEditingProduct","newProduct","setNewProduct","selectedImage","setSelectedImage","imagePreview","setImagePreview","handleImageChange","file","reader","handleAddProduct","formData","errorData","handleDeleteProduct","handleEditProduct","Save","Edit","OrdersManager","orders","setOrders","fetchOrders","order","UsersManager","users","setUsers","fetchUsers","StatsPage","AdminDashboard","sidebarOpen","setSidebarOpen","location","navigation","LayoutDashboard","BarChart3","Icon","Routes","Route","CheckoutSuccess","searchParams","useSearchParams","paymentId","CheckoutFailure","XCircle","PrivacyPolicyPage","TermsPage","ProtectedRoute","Navigate","AdminRoute","ShopPage","ProductDetailPage","App","router","createBrowserRouter","createRoutesFromElements","Outlet","RouterProvider","ReactDOM"],"ignoreList":[],"sources":["../../src/utils/helpers.ts","../../src/contexts/AuthContext.tsx","../../src/contexts/CartContext.tsx","../../src/contexts/WishlistContext.tsx","../../src/contexts/ThemeContext.tsx","../../src/components/common/ErrorBoundary.tsx","../../src/utils/api.ts","../../src/components/common/SearchBar.tsx","../../src/components/ui/Button.tsx","../../src/components/layout/Navbar.tsx","../../src/components/layout/Footer.tsx","../../src/components/layout/Layout.tsx","../../src/hooks/useLocalStorage.ts","../../src/hooks/useProducts.ts","../../src/components/ui/QuickViewModal.tsx","../../src/components/common/ProductCard.tsx","../../src/pages/public/HomePage.tsx","../../src/pages/public/CartPage.tsx","../../src/pages/public/WishlistPage.tsx","../../src/pages/public/CheckoutPage.tsx","../../src/components/ui/Input.tsx","../../src/pages/public/ContactPage.tsx","../../src/pages/public/AboutPage.tsx","../../src/pages/auth/LoginPage.tsx","../../src/pages/auth/SignupPage.tsx","../../src/pages/admin/AdminDashboard.tsx","../../src/pages/public/CheckoutSuccess.tsx","../../src/pages/public/CheckoutFailure.tsx","../../src/pages/public/PrivacyPolicyPage.tsx","../../src/pages/public/TermsPage.tsx","../../src/routes/ProtectedRoute.tsx","../../src/routes/AdminRoute.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["// Price formatting\r\nexport const formatPrice = (price: number): string => {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD',\r\n  }).format(price);\r\n};\r\n\r\n// Date formatting\r\nexport const formatDate = (dateString: string): string => {\r\n  return new Intl.DateTimeFormat('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  }).format(new Date(dateString));\r\n};\r\n\r\nexport const formatDateShort = (dateString: string): string => {\r\n  return new Intl.DateTimeFormat('en-US', {\r\n    month: 'short',\r\n    day: 'numeric',\r\n    year: 'numeric',\r\n  }).format(new Date(dateString));\r\n};\r\n\r\n// String utilities\r\nexport const truncateText = (text: string, maxLength: number): string => {\r\n  if (text.length <= maxLength) return text;\r\n  return text.slice(0, maxLength) + '...';\r\n};\r\n\r\nexport const slugify = (text: string): string => {\r\n  return text\r\n    .toLowerCase()\r\n    .replace(/[^\\w ]+/g, '')\r\n    .replace(/ +/g, '-');\r\n};\r\n\r\nexport const capitalizeFirst = (text: string): string => {\r\n  return text.charAt(0).toUpperCase() + text.slice(1);\r\n};\r\n\r\n// Array utilities\r\nexport const shuffleArray = <T>(array: T[]): T[] => {\r\n  const shuffled = [...array];\r\n  for (let i = shuffled.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\r\n  }\r\n  return shuffled;\r\n};\r\n\r\nexport const getUniqueValues = <T>(array: T[], key: keyof T): T[keyof T][] => {\r\n  return [...new Set(array.map(item => item[key]))];\r\n};\r\n\r\n// Validation utilities\r\nexport const isValidEmail = (email: string): boolean => {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n};\r\n\r\nexport const isValidPassword = (password: string): boolean => {\r\n  // At least 8 characters, 1 uppercase, 1 lowercase, 1 number\r\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d@$!%*?&]{8,}$/;\r\n  return passwordRegex.test(password);\r\n};\r\n\r\nexport const isValidZipCode = (zipCode: string): boolean => {\r\n  const zipRegex = /^\\d{5}(-\\d{4})?$/;\r\n  return zipRegex.test(zipCode);\r\n};\r\n\r\n// Local storage utilities\r\nexport const getFromStorage = <T>(key: string): T | null => {\r\n  try {\r\n    const item = localStorage.getItem(key);\r\n    return item ? JSON.parse(item) : null;\r\n  } catch (error) {\r\n    console.error(`Error getting ${key} from localStorage:`, error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const setToStorage = <T>(key: string, value: T): void => {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  } catch (error) {\r\n    console.error(`Error setting ${key} to localStorage:`, error);\r\n  }\r\n};\r\n\r\nexport const removeFromStorage = (key: string): void => {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (error) {\r\n    console.error(`Error removing ${key} from localStorage:`, error);\r\n  }\r\n};\r\n\r\n// Number utilities\r\nexport const generateId = (): string => {\r\n  return Math.random().toString(36).substr(2, 9);\r\n};\r\n\r\nexport const clamp = (value: number, min: number, max: number): number => {\r\n  return Math.min(Math.max(value, min), max);\r\n};\r\n\r\nexport const roundToDecimals = (value: number, decimals: number): number => {\r\n  return Math.round(value * Math.pow(10, decimals)) / Math.pow(10, decimals);\r\n};\r\n\r\n// Debounce utility\r\nexport const debounce = <T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): ((...args: Parameters<T>) => void) => {\r\n  let timeout: ReturnType<typeof setTimeout>;\r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => func(...args), wait);\r\n  };\r\n};\r\n\r\n// Image utilities\r\nexport const getImageUrl = (imagePath: string, size?: string): string => {\r\n  if (imagePath.startsWith('http')) {\r\n    return size ? `${imagePath}&w=${size}&h=${size}` : imagePath;\r\n  }\r\n  return imagePath;\r\n};\r\n\r\nexport const preloadImage = (src: string): Promise<void> => {\r\n  return new Promise((resolve, reject) => {\r\n    const img = new Image();\r\n    img.onload = () => resolve();\r\n    img.onerror = reject;\r\n    img.src = src;\r\n  });\r\n};\r\n\r\n// Error handling\r\nexport const handleError = (error: unknown): string => {\r\n  if (error instanceof Error) {\r\n    return error.message;\r\n  }\r\n  if (typeof error === 'string') {\r\n    return error;\r\n  }\r\n  return 'An unexpected error occurred';\r\n};\r\n\r\n// URL utilities\r\nexport const buildQueryString = (params: Record<string, any>): string => {\r\n  const searchParams = new URLSearchParams();\r\n  \r\n  Object.entries(params).forEach(([key, value]) => {\r\n    if (value !== undefined && value !== null && value !== '') {\r\n      if (Array.isArray(value)) {\r\n        value.forEach(v => searchParams.append(key, v.toString()));\r\n      } else {\r\n        searchParams.append(key, value.toString());\r\n      }\r\n    }\r\n  });\r\n  \r\n  return searchParams.toString();\r\n};\r\n\r\nexport const parseQueryString = (queryString: string): Record<string, string> => {\r\n  const params = new URLSearchParams(queryString);\r\n  const result: Record<string, string> = {};\r\n  \r\n  params.forEach((value, key) => {\r\n    result[key] = value;\r\n  });\r\n  \r\n  return result;\r\n};\r\n\r\n// Color utilities\r\nexport const hexToRgb = (hex: string): { r: number; g: number; b: number } | null => {\r\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result ? {\r\n    r: parseInt(result[1], 16),\r\n    g: parseInt(result[2], 16),\r\n    b: parseInt(result[3], 16)\r\n  } : null;\r\n};\r\n\r\nexport const getContrastColor = (hexColor: string): string => {\r\n  const rgb = hexToRgb(hexColor);\r\n  if (!rgb) return '#000000';\r\n  \r\n  const brightness = (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\r\n  return brightness > 128 ? '#000000' : '#ffffff';\r\n};\r\n\r\n// Performance utilities\r\nexport const measurePerformance = <T>(\r\n  name: string,\r\n  fn: () => T\r\n): T => {\r\n  const start = performance.now();\r\n  const result = fn();\r\n  const end = performance.now();\r\n  console.log(`${name} took ${end - start} milliseconds`);\r\n  return result;\r\n};\r\n\r\n// Cookie utilities\r\nexport const setCookie = (name: string, value: string, days: number): void => {\r\n  const expires = new Date();\r\n  expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);\r\n  document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/`;\r\n};\r\n\r\nexport const getCookie = (name: string): string | null => {\r\n  const nameEQ = name + '=';\r\n  const ca = document.cookie.split(';');\r\n  for (let i = 0; i < ca.length; i++) {\r\n    let c = ca[i];\r\n    while (c.charAt(0) === ' ') c = c.substring(1, c.length);\r\n    if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const deleteCookie = (name: string): void => {\r\n  document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;\r\n};","import React, { createContext, useContext, useReducer, useEffect } from \"react\";\r\nimport { User, AuthState, LoginForm, SignupForm } from \"../data/types\";\r\nimport {\r\n  getFromStorage,\r\n  setToStorage,\r\n  removeFromStorage,\r\n} from \"../utils/helpers\";\r\n\r\n// API base URL\r\nconst API_BASE_URL = \"http://localhost:3002/api\";\r\n\r\n// Auth Context Types\r\ninterface AuthContextType {\r\n  state: AuthState;\r\n  login: (\r\n    credentials: LoginForm\r\n  ) => Promise<{ success: boolean; error?: string }>;\r\n  signup: (\r\n    userData: SignupForm\r\n  ) => Promise<{ success: boolean; error?: string }>;\r\n  logout: () => void;\r\n  updateUser: (userData: Partial<User>) => void;\r\n}\r\n\r\n// Auth Actions\r\ntype AuthAction =\r\n  | { type: \"SET_LOADING\"; payload: boolean }\r\n  | { type: \"LOGIN_SUCCESS\"; payload: User }\r\n  | { type: \"LOGIN_FAILURE\" }\r\n  | { type: \"LOGOUT\" }\r\n  | { type: \"UPDATE_USER\"; payload: Partial<User> };\r\n\r\n// Initial State\r\nconst initialState: AuthState = {\r\n  user: null,\r\n  isAuthenticated: false,\r\n  isLoading: true,\r\n};\r\n\r\n// Auth Reducer\r\nconst authReducer = (state: AuthState, action: AuthAction): AuthState => {\r\n  switch (action.type) {\r\n    case \"SET_LOADING\":\r\n      return {\r\n        ...state,\r\n        isLoading: action.payload,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n        isAuthenticated: true,\r\n        isLoading: false,\r\n      };\r\n    case \"LOGIN_FAILURE\":\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        ...state,\r\n        user: null,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n      };\r\n    case \"UPDATE_USER\":\r\n      return {\r\n        ...state,\r\n        user: state.user ? { ...state.user, ...action.payload } : null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Create Context\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\n// Auth Provider Component\r\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  // Initialize auth state from localStorage\r\n  useEffect(() => {\r\n    const initializeAuth = async () => {\r\n      try {\r\n        const storedUser = getFromStorage<User>(\"user\");\r\n        const storedToken = getFromStorage<string>(\"authToken\");\r\n\r\n        if (storedUser && storedToken) {\r\n          // In a real app, you would validate the token with the server\r\n          dispatch({ type: \"LOGIN_SUCCESS\", payload: storedUser });\r\n        } else {\r\n          dispatch({ type: \"SET_LOADING\", payload: false });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error initializing auth:\", error);\r\n        dispatch({ type: \"LOGIN_FAILURE\" });\r\n      }\r\n    };\r\n\r\n    initializeAuth();\r\n  }, []);\r\n\r\n  // Login function\r\n  const login = async (\r\n    credentials: LoginForm\r\n  ): Promise<{ success: boolean; error?: string }> => {\r\n    dispatch({ type: \"SET_LOADING\", payload: true });\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/auth/login`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(credentials),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        const { user, token } = data.data;\r\n\r\n        // Store user and token\r\n        setToStorage(\"user\", user);\r\n        setToStorage(\"authToken\", token);\r\n\r\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: user });\r\n        return { success: true };\r\n      } else {\r\n        dispatch({ type: \"LOGIN_FAILURE\" });\r\n        return { success: false, error: data.error || \"Login failed\" };\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error);\r\n      dispatch({ type: \"LOGIN_FAILURE\" });\r\n      return { success: false, error: \"Network error. Please try again.\" };\r\n    }\r\n  };\r\n\r\n  // Signup function\r\n  const signup = async (\r\n    userData: SignupForm\r\n  ): Promise<{ success: boolean; error?: string }> => {\r\n    dispatch({ type: \"SET_LOADING\", payload: true });\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/auth/register`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          name: userData.name,\r\n          email: userData.email,\r\n          password: userData.password,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        const { user, token } = data.data;\r\n\r\n        // Store user and token\r\n        setToStorage(\"user\", user);\r\n        setToStorage(\"authToken\", token);\r\n\r\n        dispatch({ type: \"LOGIN_SUCCESS\", payload: user });\r\n        return { success: true };\r\n      } else {\r\n        dispatch({ type: \"LOGIN_FAILURE\" });\r\n        return { success: false, error: data.error || \"Signup failed\" };\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Signup error:\", error);\r\n      dispatch({ type: \"LOGIN_FAILURE\" });\r\n      return { success: false, error: \"Network error. Please try again.\" };\r\n    }\r\n  };\r\n\r\n  // Logout function\r\n  const logout = () => {\r\n    removeFromStorage(\"user\");\r\n    removeFromStorage(\"authToken\");\r\n    dispatch({ type: \"LOGOUT\" });\r\n  };\r\n\r\n  // Update user function\r\n  const updateUser = (userData: Partial<User>) => {\r\n    if (state.user) {\r\n      const updatedUser = { ...state.user, ...userData };\r\n      setToStorage(\"user\", updatedUser);\r\n      dispatch({ type: \"UPDATE_USER\", payload: userData });\r\n    }\r\n  };\r\n\r\n  const value: AuthContextType = {\r\n    state,\r\n    login,\r\n    signup,\r\n    logout,\r\n    updateUser,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n};\r\n\r\n// Custom hook to use auth context\r\nexport const useAuth = (): AuthContextType => {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAuth must be used within an AuthProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\n// Helper hooks\r\nexport const useUser = () => {\r\n  const { state } = useAuth();\r\n  return state.user;\r\n};\r\n\r\nexport const useIsAuthenticated = () => {\r\n  const { state } = useAuth();\r\n  return state.isAuthenticated;\r\n};\r\n\r\nexport const useIsAdmin = () => {\r\n  const { state } = useAuth();\r\n  return state.user?.role === \"admin\";\r\n};\r\n\r\nexport const useAuthLoading = () => {\r\n  const { state } = useAuth();\r\n  return state.isLoading;\r\n};\r\n","import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\nimport { CartItem, CartState, Product } from '../data/types';\r\nimport { getFromStorage, setToStorage, generateId } from '../utils/helpers';\r\n\r\n// Cart Context Types\r\ninterface CartContextType {\r\n  state: CartState;\r\n  addToCart: (product: Product, quantity?: number) => void;\r\n  removeFromCart: (itemId: string) => void;\r\n  updateQuantity: (itemId: string, quantity: number) => void;\r\n  clearCart: () => void;\r\n  getCartItem: (productId: string) => CartItem | undefined;\r\n  isInCart: (productId: string) => boolean;\r\n}\r\n\r\n// Cart Actions\r\ntype CartAction =\r\n  | { type: 'SET_LOADING'; payload: boolean }\r\n  | { type: 'LOAD_CART'; payload: CartItem[] }\r\n  | { type: 'ADD_ITEM'; payload: CartItem }\r\n  | { type: 'REMOVE_ITEM'; payload: string }\r\n  | { type: 'UPDATE_QUANTITY'; payload: { id: string; quantity: number } }\r\n  | { type: 'CLEAR_CART' };\r\n\r\n// Initial State\r\nconst initialState: CartState = {\r\n  items: [],\r\n  totalItems: 0,\r\n  totalPrice: 0,\r\n  isLoading: false,\r\n};\r\n\r\n// Helper function to calculate totals\r\nconst calculateTotals = (items: CartItem[]) => {\r\n  const totalItems = items.reduce((sum, item) => sum + item.quantity, 0);\r\n  const totalPrice = items.reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n  return { totalItems, totalPrice };\r\n};\r\n\r\n// Cart Reducer\r\nconst cartReducer = (state: CartState, action: CartAction): CartState => {\r\n  switch (action.type) {\r\n    case 'SET_LOADING':\r\n      return {\r\n        ...state,\r\n        isLoading: action.payload,\r\n      };\r\n\r\n    case 'LOAD_CART': {\r\n      const { totalItems, totalPrice } = calculateTotals(action.payload);\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n        totalItems,\r\n        totalPrice,\r\n        isLoading: false,\r\n      };\r\n    }\r\n\r\n    case 'ADD_ITEM': {\r\n      const existingItemIndex = state.items.findIndex(\r\n        item => item.productId === action.payload.productId\r\n      );\r\n\r\n      let newItems: CartItem[];\r\n\r\n      if (existingItemIndex >= 0) {\r\n        // Update existing item quantity\r\n        newItems = state.items.map((item, index) =>\r\n          index === existingItemIndex\r\n            ? {\r\n                ...item,\r\n                quantity: Math.min(\r\n                  item.quantity + action.payload.quantity,\r\n                  item.maxQuantity\r\n                ),\r\n              }\r\n            : item\r\n        );\r\n      } else {\r\n        // Add new item\r\n        newItems = [...state.items, action.payload];\r\n      }\r\n\r\n      const { totalItems, totalPrice } = calculateTotals(newItems);\r\n\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalItems,\r\n        totalPrice,\r\n      };\r\n    }\r\n\r\n    case 'REMOVE_ITEM': {\r\n      const newItems = state.items.filter(item => item.id !== action.payload);\r\n      const { totalItems, totalPrice } = calculateTotals(newItems);\r\n\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalItems,\r\n        totalPrice,\r\n      };\r\n    }\r\n\r\n    case 'UPDATE_QUANTITY': {\r\n      const newItems = state.items.map(item =>\r\n        item.id === action.payload.id\r\n          ? {\r\n              ...item,\r\n              quantity: Math.min(\r\n                Math.max(action.payload.quantity, 1),\r\n                item.maxQuantity\r\n              ),\r\n            }\r\n          : item\r\n      );\r\n\r\n      const { totalItems, totalPrice } = calculateTotals(newItems);\r\n\r\n      return {\r\n        ...state,\r\n        items: newItems,\r\n        totalItems,\r\n        totalPrice,\r\n      };\r\n    }\r\n\r\n    case 'CLEAR_CART':\r\n      return {\r\n        ...state,\r\n        items: [],\r\n        totalItems: 0,\r\n        totalPrice: 0,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Create Context\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\n// Cart Provider Component\r\nexport const CartProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [state, dispatch] = useReducer(cartReducer, initialState);\r\n\r\n  // Load cart from localStorage on mount\r\n  useEffect(() => {\r\n    const loadCart = () => {\r\n      try {\r\n        const storedCart = getFromStorage<CartItem[]>('cart');\r\n        if (storedCart && Array.isArray(storedCart)) {\r\n          dispatch({ type: 'LOAD_CART', payload: storedCart });\r\n        } else {\r\n          dispatch({ type: 'SET_LOADING', payload: false });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading cart:', error);\r\n        dispatch({ type: 'SET_LOADING', payload: false });\r\n      }\r\n    };\r\n\r\n    loadCart();\r\n  }, []);\r\n\r\n  // Save cart to localStorage whenever it changes\r\n  useEffect(() => {\r\n    if (!state.isLoading) {\r\n      setToStorage('cart', state.items);\r\n    }\r\n  }, [state.items, state.isLoading]);\r\n\r\n  // Add item to cart\r\n  const addToCart = (product: Product, quantity: number = 1) => {\r\n    if (!product.inStock || quantity <= 0) {\r\n      return;\r\n    }\r\n\r\n    const cartItem: CartItem = {\r\n      id: generateId(),\r\n      productId: product.id,\r\n      name: product.name,\r\n      price: product.price,\r\n      image: product.images[0] || '',\r\n      quantity: Math.min(quantity, product.stockQuantity),\r\n      maxQuantity: product.stockQuantity,\r\n    };\r\n\r\n    dispatch({ type: 'ADD_ITEM', payload: cartItem });\r\n  };\r\n\r\n  // Remove item from cart\r\n  const removeFromCart = (itemId: string) => {\r\n    dispatch({ type: 'REMOVE_ITEM', payload: itemId });\r\n  };\r\n\r\n  // Update item quantity\r\n  const updateQuantity = (itemId: string, quantity: number) => {\r\n    if (quantity <= 0) {\r\n      removeFromCart(itemId);\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: 'UPDATE_QUANTITY', payload: { id: itemId, quantity } });\r\n  };\r\n\r\n  // Clear entire cart\r\n  const clearCart = () => {\r\n    dispatch({ type: 'CLEAR_CART' });\r\n  };\r\n\r\n  // Get cart item by product ID\r\n  const getCartItem = (productId: string): CartItem | undefined => {\r\n    return state.items.find(item => item.productId === productId);\r\n  };\r\n\r\n  // Check if product is in cart\r\n  const isInCart = (productId: string): boolean => {\r\n    return state.items.some(item => item.productId === productId);\r\n  };\r\n\r\n  const value: CartContextType = {\r\n    state,\r\n    addToCart,\r\n    removeFromCart,\r\n    updateQuantity,\r\n    clearCart,\r\n    getCartItem,\r\n    isInCart,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={value}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\n// Custom hook to use cart context\r\nexport const useCart = (): CartContextType => {\r\n  const context = useContext(CartContext);\r\n  if (context === undefined) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\n// Helper hooks\r\nexport const useCartItems = () => {\r\n  const { state } = useCart();\r\n  return state.items;\r\n};\r\n\r\nexport const useCartTotal = () => {\r\n  const { state } = useCart();\r\n  return {\r\n    totalItems: state.totalItems,\r\n    totalPrice: state.totalPrice,\r\n  };\r\n};\r\n\r\nexport const useCartLoading = () => {\r\n  const { state } = useCart();\r\n  return state.isLoading;\r\n};\r\n\r\nexport const useCartItemCount = () => {\r\n  const { state } = useCart();\r\n  return state.totalItems;\r\n};","import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\nimport { Product } from '../data/types';\r\n// Storage helpers\r\nconst getFromStorage = (key: string): string | null => {\r\n  try {\r\n    return localStorage.getItem(key);\r\n  } catch (error) {\r\n    console.error('Error reading from localStorage:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst setToStorage = (key: string, value: string): void => {\r\n  try {\r\n    localStorage.setItem(key, value);\r\n  } catch (error) {\r\n    console.error('Error writing to localStorage:', error);\r\n  }\r\n};\r\n\r\n// Wishlist Types\r\ninterface WishlistItem {\r\n  id: string;\r\n  dateAdded: string;\r\n  product: Product;\r\n}\r\n\r\ninterface WishlistState {\r\n  items: WishlistItem[];\r\n  isLoading: boolean;\r\n}\r\n\r\ninterface WishlistContextType {\r\n  state: WishlistState;\r\n  addToWishlist: (product: Product) => void;\r\n  removeFromWishlist: (productId: string) => void;\r\n  clearWishlist: () => void;\r\n  isInWishlist: (productId: string) => boolean;\r\n}\r\n\r\n// Wishlist Actions\r\ntype WishlistAction =\r\n  | { type: 'SET_LOADING'; payload: boolean }\r\n  | { type: 'LOAD_WISHLIST'; payload: WishlistItem[] }\r\n  | { type: 'ADD_ITEM'; payload: WishlistItem }\r\n  | { type: 'REMOVE_ITEM'; payload: string }\r\n  | { type: 'CLEAR_WISHLIST' };\r\n\r\n// Initial State\r\nconst initialState: WishlistState = {\r\n  items: [],\r\n  isLoading: false,\r\n};\r\n\r\n// Create Context\r\nconst WishlistContext = createContext<WishlistContextType | undefined>(undefined);\r\n\r\n// Reducer\r\nfunction wishlistReducer(state: WishlistState, action: WishlistAction): WishlistState {\r\n  switch (action.type) {\r\n    case 'SET_LOADING':\r\n      return { ...state, isLoading: action.payload };\r\n    case 'LOAD_WISHLIST':\r\n      return { ...state, items: action.payload, isLoading: false };\r\n    case 'ADD_ITEM':\r\n      return {\r\n        ...state,\r\n        items: [...state.items, action.payload],\r\n      };\r\n    case 'REMOVE_ITEM':\r\n      return {\r\n        ...state,\r\n        items: state.items.filter((item) => item.id !== action.payload),\r\n      };\r\n    case 'CLEAR_WISHLIST':\r\n      return { ...state, items: [] };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// Provider Component\r\nexport function WishlistProvider({ children }: { children: React.ReactNode }) {\r\n  const [state, dispatch] = useReducer(wishlistReducer, initialState);\r\n\r\n  // Load wishlist from localStorage on mount\r\n  useEffect(() => {\r\n    const savedWishlist = getFromStorage('wishlist');\r\n    if (savedWishlist) {\r\n      try {\r\n        const parsedWishlist = JSON.parse(savedWishlist);\r\n        if (Array.isArray(parsedWishlist)) {\r\n          dispatch({ type: 'LOAD_WISHLIST', payload: parsedWishlist });\r\n        } else {\r\n          console.error('Invalid wishlist data format');\r\n          setToStorage('wishlist', '[]');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error parsing wishlist:', error);\r\n        setToStorage('wishlist', '[]');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Save wishlist to localStorage whenever it changes\r\n  useEffect(() => {\r\n    try {\r\n      setToStorage('wishlist', JSON.stringify(state.items));\r\n    } catch (error) {\r\n      console.error('Error saving wishlist:', error);\r\n    }\r\n  }, [state.items]);\r\n\r\n  const addToWishlist = (product: Product) => {\r\n    const wishlistItem: WishlistItem = {\r\n      id: product.id,\r\n      dateAdded: new Date().toISOString(),\r\n      product,\r\n    };\r\n    dispatch({ type: 'ADD_ITEM', payload: wishlistItem });\r\n  };\r\n\r\n  const removeFromWishlist = (productId: string) => {\r\n    dispatch({ type: 'REMOVE_ITEM', payload: productId });\r\n  };\r\n\r\n  const clearWishlist = () => {\r\n    dispatch({ type: 'CLEAR_WISHLIST' });\r\n  };\r\n\r\n  const isInWishlist = (productId: string) => {\r\n    return state.items.some((item) => item.id === productId);\r\n  };\r\n\r\n  return (\r\n    <WishlistContext.Provider\r\n      value={{\r\n        state,\r\n        addToWishlist,\r\n        removeFromWishlist,\r\n        clearWishlist,\r\n        isInWishlist,\r\n      }}\r\n    >\r\n      {children}\r\n    </WishlistContext.Provider>\r\n  );\r\n}\r\n\r\n// Custom Hook\r\nexport function useWishlist() {\r\n  const context = useContext(WishlistContext);\r\n  if (!context) {\r\n    throw new Error('useWishlist must be used within a WishlistProvider');\r\n  }\r\n  return context;\r\n}\r\n","import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\ntype Theme = 'light' | 'dark';\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport const ThemeProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [theme] = useState<Theme>('dark');\r\n\r\n  useEffect(() => {\r\n    // Apply dark theme to document\r\n    const root = window.document.documentElement;\r\n    root.classList.remove('light');\r\n    root.classList.add('dark');\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    // Theme toggle disabled - always dark\r\n    return;\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTheme = (): ThemeContextType => {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n}; ","import React, { Component, ErrorInfo, ReactNode } from 'react';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error: Error | null;\r\n}\r\n\r\nclass ErrorBoundary extends Component<Props, State> {\r\n  public state: State = {\r\n    hasError: false,\r\n    error: null\r\n  };\r\n\r\n  public static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error('Uncaught error:', error, errorInfo);\r\n  }\r\n\r\n  public render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center px-4\">\r\n          <div className=\"text-center\">\r\n            <h1 className=\"text-3xl font-bold text-white mb-4\">Oops! Something went wrong</h1>\r\n            <p className=\"text-gray-400 mb-8\">{this.state.error?.message || 'An unexpected error occurred'}</p>\r\n            <button\r\n              onClick={() => window.location.reload()}\r\n              className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300\"\r\n            >\r\n              Refresh Page\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","/// <reference types=\"vite/client\" />\r\n\r\nconst API_URL = import.meta.env.VITE_API_URL || 'http://localhost:3002';\r\n\r\nexport const fetchProducts = async () => {\r\n  const response = await fetch(`${API_URL}/api/products`);\r\n  if (!response.ok) throw new Error('Failed to fetch products');\r\n  return response.json();\r\n};\r\n\r\nexport const getProductById = async (id: number) => {\r\n  const response = await fetch(`${API_URL}/api/products/${id}`);\r\n  if (!response.ok) throw new Error('Product not found');\r\n  return response.json();\r\n};\r\n\r\nexport const searchProducts = async (query: string) => {\r\n  const response = await fetch(`${API_URL}/api/products/search?q=${encodeURIComponent(query)}`);\r\n  if (!response.ok) throw new Error('Failed to search products');\r\n  return response.json();\r\n};\r\n\r\nexport const getProductCategories = async () => {\r\n  const response = await fetch(`${API_URL}/api/products/categories`);\r\n  if (!response.ok) throw new Error('Failed to fetch categories');\r\n  return response.json();\r\n};\r\n\r\nexport type { Product } from '../data/types';","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Search, X } from 'lucide-react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { searchProducts } from '../../utils/api';\r\nimport type { Product } from '../../data/types';\r\n\r\n\r\ninterface SearchBarProps {\r\n  className?: string;\r\n  placeholder?: string;\r\n}\r\n\r\nconst SearchBar: React.FC<SearchBarProps> = ({ \r\n  className = '', \r\n  placeholder = 'Search products...' \r\n}) => {\r\n  const [query, setQuery] = useState('');\r\n  const [suggestions, setSuggestions] = useState<Product[]>([]);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [selectedIndex, setSelectedIndex] = useState(-1);\r\n  const searchRef = useRef<HTMLDivElement>(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchSuggestions = async () => {\r\n      if (query.trim().length > 0) {\r\n        try {\r\n          const results = await searchProducts(query);\r\n          setSuggestions(results.slice(0, 5)); // Limit to 5 suggestions\r\n          setShowSuggestions(true);\r\n          setSelectedIndex(-1);\r\n        } catch (error) {\r\n          console.error('Error fetching suggestions:', error);\r\n          setSuggestions([]);\r\n        }\r\n      } else {\r\n        setSuggestions([]);\r\n        setShowSuggestions(false);\r\n      }\r\n    };\r\n\r\n    fetchSuggestions();\r\n  }, [query]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (searchRef.current && !searchRef.current.contains(event.target as Node)) {\r\n        setShowSuggestions(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'ArrowDown') {\r\n      e.preventDefault();\r\n      setSelectedIndex(prev => \r\n        prev < suggestions.length - 1 ? prev + 1 : prev\r\n      );\r\n    } else if (e.key === 'ArrowUp') {\r\n      e.preventDefault();\r\n      setSelectedIndex(prev => prev > 0 ? prev - 1 : -1);\r\n    } else if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      if (selectedIndex >= 0 && suggestions[selectedIndex]) {\r\n        handleSuggestionClick(suggestions[selectedIndex]);\r\n      } else if (query.trim()) {\r\n        handleSearch();\r\n      }\r\n    } else if (e.key === 'Escape') {\r\n      setShowSuggestions(false);\r\n      setQuery('');\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (product: Product) => {\r\n    setQuery(product.name);\r\n    setShowSuggestions(false);\r\n    navigate(`/product/${product.id}`);\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    if (query.trim()) {\r\n      setShowSuggestions(false);\r\n      navigate(`/shop?search=${encodeURIComponent(query.trim())}`);\r\n    }\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setQuery('');\r\n    setSuggestions([]);\r\n    setShowSuggestions(false);\r\n  };\r\n\r\n  return (\r\n    <div ref={searchRef} className={`relative ${className}`}>\r\n      <div className=\"relative group\">\r\n        <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n          <Search className=\"h-5 w-5 text-gray-400/70 group-hover:text-blue-400/70 transition-colors duration-300\" />\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value)}\r\n          onKeyDown={handleKeyDown}\r\n          onFocus={() => query.trim().length > 0 && setShowSuggestions(true)}\r\n          placeholder={placeholder}\r\n          className=\"block w-full pl-12 pr-12 py-3.5 rounded-2xl\r\n            bg-white/10 dark:bg-gray-800/10 backdrop-blur-md\r\n            border-2 border-gray-200/20 dark:border-gray-700/30\r\n            text-gray-900 dark:text-white \r\n            placeholder-gray-500/70 dark:placeholder-gray-400/70\r\n            focus:outline-none focus:border-blue-500/50 dark:focus:border-blue-400/50\r\n            focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-blue-400/20\r\n            hover:bg-white/20 dark:hover:bg-gray-800/20\r\n            transition-all duration-300\"\r\n        />\r\n        {query && (\r\n          <button\r\n            onClick={clearSearch}\r\n            className=\"absolute inset-y-0 right-0 pr-4 flex items-center\"\r\n          >\r\n            <X className=\"h-5 w-5 text-gray-400/70 hover:text-red-400/70 transition-colors duration-300\" />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Suggestions Dropdown */}\r\n      {showSuggestions && suggestions.length > 0 && (\r\n        <div className=\"absolute z-50 w-full mt-2 \r\n          bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg\r\n          border border-gray-200/20 dark:border-gray-700/30 \r\n          rounded-2xl shadow-xl max-h-[70vh] overflow-auto\r\n          divide-y divide-gray-100/20 dark:divide-gray-800/30\">\r\n          {suggestions.map((product, index) => (\r\n            <div\r\n              key={product.id}\r\n              onClick={() => handleSuggestionClick(product)}\r\n              className={`px-4 py-3 cursor-pointer transition-all duration-300\r\n                first:rounded-t-2xl last:rounded-b-2xl\r\n                ${index === selectedIndex \r\n                  ? 'bg-gray-50/80 dark:bg-gray-800/80' \r\n                  : 'hover:bg-gray-50/50 dark:hover:bg-gray-800/50'\r\n                }`}\r\n            >\r\n              <div className=\"flex items-center space-x-4\">\r\n                <img\r\n                  src={product.images[0]}\r\n                  alt={product.name}\r\n                  className=\"w-12 h-12 object-cover rounded-lg shadow-sm\"\r\n                />\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate group-hover:text-blue-500\">\r\n                    {product.name}\r\n                  </p>\r\n                  <p className=\"text-sm bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent font-medium truncate\">\r\n                    ${product.price}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          \r\n          {query.trim() && (\r\n            <div\r\n              onClick={handleSearch}\r\n              className=\"px-4 py-3 text-sm font-medium\r\n                bg-gradient-to-r from-blue-500/10 to-purple-500/10\r\n                hover:from-blue-500/20 hover:to-purple-500/20\r\n                text-blue-600 dark:text-blue-400 \r\n                cursor-pointer transition-all duration-300\"\r\n            >\r\n              Search for \"{query}\"\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar; ","import React from 'react';\r\nimport { ButtonProps } from '../../data/types';\r\n\r\nconst Button: React.FC<ButtonProps> = ({\r\n  children,\r\n  variant = 'primary',\r\n  size = 'md',\r\n  disabled = false,\r\n  loading = false,\r\n  onClick,\r\n  type = 'button',\r\n  className = '',\r\n}) => {\r\n  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105';\r\n  \r\n  const variantClasses = {\r\n    primary: 'bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl',\r\n    secondary: 'bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white shadow-md hover:shadow-lg',\r\n    outline: 'border-2 border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-800 dark:text-white',\r\n    ghost: 'hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-800 dark:text-white',\r\n  };\r\n  \r\n  const sizeClasses = {\r\n    sm: 'px-3 py-1.5 text-sm',\r\n    md: 'px-4 py-2 text-base',\r\n    lg: 'px-6 py-3 text-lg',\r\n  };\r\n\r\n  const classes = `${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className}`;\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={classes}\r\n      onClick={onClick}\r\n      disabled={disabled || loading}\r\n    >\r\n      {loading && (\r\n        <svg\r\n          className=\"animate-spin -ml-1 mr-2 h-4 w-4\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <circle\r\n            className=\"opacity-25\"\r\n            cx=\"12\"\r\n            cy=\"12\"\r\n            r=\"10\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"4\"\r\n          ></circle>\r\n          <path\r\n            className=\"opacity-75\"\r\n            fill=\"currentColor\"\r\n            d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n          ></path>\r\n        </svg>\r\n      )}\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;","import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { \r\n  ShoppingCart, \r\n  User, \r\n  Menu, \r\n  X, \r\n  Search,\r\n  LogOut,\r\n  Settings,\r\n  Package,\r\n  Heart\r\n} from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\nimport { useAuth, useIsAuthenticated, useIsAdmin } from '../../contexts/AuthContext';\r\nimport { useCartItemCount } from '../../contexts/CartContext';\r\nimport SearchBar from '../common/SearchBar';\r\nimport Button from '../ui/Button';\r\n\r\nconst Navbar: React.FC = () => {\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n  const [isUserMenuOpen, setIsUserMenuOpen] = useState(false);\r\n  const isAuthenticated = useIsAuthenticated();\r\n  const isAdmin = useIsAdmin();\r\n  const cartItemCount = useCartItemCount();\r\n  const { state, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    setIsUserMenuOpen(false);\r\n    navigate('/');\r\n  };\r\n\r\n  const navLinks = [\r\n    { name: 'Home', href: '/' },\r\n    { name: 'Shop', href: '/shop' },\r\n    { name: 'About', href: '/about' },\r\n    { name: 'Contact', href: '/contact' },\r\n  ];\r\n\r\n  return (\r\n    <motion.nav \r\n      className=\"sticky top-0 z-40 bg-gradient-to-b from-black/90 to-gray-900/90 backdrop-blur-lg border-b border-gray-800/20\"\r\n      initial={{ y: -100, opacity: 0 }}\r\n      animate={{ y: 0, opacity: 1 }}\r\n      transition={{ duration: 0.6 }}\r\n    >\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between items-center h-20\">\r\n          {/* Logo */}\r\n          <div className=\"flex-shrink-0\">\r\n            <Link to=\"/\" className=\"flex items-center group\">\r\n              <Package className=\"h-8 w-8 bg-gradient-to-br from-blue-500 to-purple-500 text-white p-1.5 rounded-xl transform group-hover:scale-110 transition-transform duration-300\" />\r\n              <span className=\"ml-2 text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400\">\r\n                MiniU\r\n              </span>\r\n            </Link>\r\n          </div>\r\n\r\n          {/* Desktop Navigation */}\r\n          <div className=\"hidden md:block\">\r\n            <div className=\"ml-10 flex items-baseline space-x-6\">\r\n              {navLinks.map((link) => (\r\n                <Link\r\n                  key={link.name}\r\n                  to={link.href}\r\n                  className=\"relative text-gray-400 hover:text-blue-400 px-3 py-2 text-sm font-medium transition-all duration-300 group\"\r\n                >\r\n                  {link.name}\r\n                  <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-500 to-purple-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300\"></span>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Search Bar */}\r\n          <div className=\"hidden md:block flex-1 max-w-lg mx-8\">\r\n            <SearchBar />\r\n          </div>\r\n\r\n          {/* Right side items */}\r\n          <div className=\"flex items-center space-x-6\">\r\n            {/* Cart */}\r\n            <Link\r\n              to=\"/wishlist\"\r\n              className=\"relative p-2 text-gray-400 hover:text-blue-400 transition-all duration-300 rounded-xl hover:bg-gray-800 group\"\r\n            >\r\n              <Heart className=\"h-6 w-6 transform group-hover:scale-110 transition-transform duration-300\" />\r\n            </Link>\r\n            <Link\r\n              to=\"/cart\"\r\n              className=\"relative p-2 text-gray-400 hover:text-blue-400 transition-all duration-300 rounded-xl hover:bg-gray-800 group\"\r\n            >\r\n              <ShoppingCart className=\"h-6 w-6 transform group-hover:scale-110 transition-transform duration-300\" />\r\n              {cartItemCount > 0 && (\r\n                <span className=\"absolute -top-1 -right-1 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold shadow-lg transform scale-100 group-hover:scale-110 transition-transform duration-300\">\r\n                  {cartItemCount}\r\n                </span>\r\n              )}\r\n            </Link>\r\n\r\n            {/* User Menu */}\r\n            {isAuthenticated ? (\r\n              <div className=\"relative\">\r\n                <button\r\n                  onClick={() => setIsUserMenuOpen(!isUserMenuOpen)}\r\n                  className=\"flex items-center space-x-2 p-2 text-gray-400 hover:text-blue-400 transition-all duration-300 rounded-xl hover:bg-gray-800 group\"\r\n                >\r\n                  {state.user?.avatar ? (\r\n                    <img\r\n                      src={state.user.avatar}\r\n                      alt={state.user.name}\r\n                      className=\"h-8 w-8 rounded-lg object-cover transform group-hover:scale-110 transition-transform duration-300 ring-2 ring-blue-500/30\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"h-8 w-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300\">\r\n                      <User className=\"h-5 w-5 text-white\" />\r\n                    </div>\r\n                  )}\r\n                  <span className=\"hidden md:block text-sm font-medium\">\r\n                    {state.user?.name}\r\n                  </span>\r\n                </button>\r\n\r\n                {/* User Dropdown */}\r\n                {isUserMenuOpen && (\r\n                  <div className=\"absolute right-0 mt-2 w-64 bg-black/95 rounded-2xl shadow-xl py-2 z-50 border border-gray-700/30 backdrop-blur-lg\">\r\n                    <div className=\"px-4 py-3 text-sm border-b border-gray-800/50\">\r\n                      <p className=\"font-medium bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400\">\r\n                        {state.user?.name}\r\n                      </p>\r\n                      <p className=\"text-gray-500 text-xs mt-1\">{state.user?.email}</p>\r\n                    </div>\r\n                    \r\n                    {isAdmin && (\r\n                      <Link\r\n                        to=\"/admin\"\r\n                        className=\"flex items-center px-4 py-2.5 text-sm text-gray-400 hover:bg-gray-800/50 transition-all duration-300 group\"\r\n                        onClick={() => setIsUserMenuOpen(false)}\r\n                      >\r\n                        <Settings className=\"h-4 w-4 mr-3 text-blue-400 transform group-hover:rotate-90 transition-transform duration-300\" />\r\n                        Admin Dashboard\r\n                      </Link>\r\n                    )}\r\n                    \r\n                    <button\r\n                      onClick={handleLogout}\r\n                      className=\"w-full flex items-center px-4 py-2.5 text-sm text-gray-400 hover:bg-gray-800/50 transition-all duration-300 group\"\r\n                    >\r\n                      <LogOut className=\"h-4 w-4 mr-3 text-blue-400 transform group-hover:translate-x-1 transition-transform duration-300\" />\r\n                      Sign out\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex items-center space-x-4\">\r\n                <Link to=\"/login\">\r\n                  <Button variant=\"ghost\" size=\"sm\">\r\n                    Sign in\r\n                  </Button>\r\n                </Link>\r\n                <Link to=\"/signup\">\r\n                  <Button variant=\"primary\" size=\"sm\">\r\n                    Sign up\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            )}\r\n\r\n            {/* Mobile menu button */}\r\n            <button\r\n              onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\r\n              className=\"md:hidden p-2 text-gray-400 hover:text-blue-400 transition-colors rounded-xl hover:bg-gray-800\"\r\n            >\r\n              {isMobileMenuOpen ? (\r\n                <X className=\"h-6 w-6\" />\r\n              ) : (\r\n                <Menu className=\"h-6 w-6\" />\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile menu */}\r\n        {isMobileMenuOpen && (\r\n          <div className=\"md:hidden py-4\">\r\n            <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n              {navLinks.map((link) => (\r\n                <Link\r\n                  key={link.name}\r\n                  to={link.href}\r\n                  className=\"block px-3 py-2 rounded-lg text-gray-400 hover:text-blue-400 hover:bg-gray-800 transition-colors text-sm font-medium\"\r\n                >\r\n                  {link.name}\r\n                </Link>\r\n              ))}\r\n              <Link\r\n                to=\"/wishlist\"\r\n                className=\"block px-3 py-2 rounded-lg text-gray-400 hover:text-blue-400 hover:bg-gray-800 transition-colors text-sm font-medium\"\r\n              >\r\n                <div className=\"flex items-center\">\r\n                  <Heart className=\"h-5 w-5 mr-2\" />\r\n                  Wishlist\r\n                </div>\r\n              </Link>\r\n            </div>\r\n            <div className=\"px-2 pt-4\">\r\n              <SearchBar />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </motion.nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Package, Mail, Phone, MapPin } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst Footer: React.FC = () => {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"bg-gradient-to-b from-black to-gray-900 text-white relative overflow-hidden\">\r\n      <div className=\"absolute inset-0 bg-[url('/hero-pattern.svg')] opacity-5\"></div>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 relative\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-12\">\r\n          {/* Company Info */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n            viewport={{ once: true }}\r\n            className=\"space-y-6\"\r\n          >\r\n            <div className=\"flex items-center group\">\r\n              <Package className=\"h-8 w-8 bg-gradient-to-br from-blue-500 to-purple-500 text-white p-1.5 rounded-xl transform group-hover:scale-110 transition-transform duration-300\" />\r\n              <span className=\"ml-2 text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400\">\r\n                MiniU\r\n              </span>\r\n            </div>\r\n            <p className=\"text-gray-400 text-sm leading-relaxed\">\r\n              Your trusted online destination for quality products at great prices.\r\n            </p>\r\n          </motion.div>\r\n\r\n          {/* Quick Links */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8, delay: 0.2 }}\r\n            viewport={{ once: true }}\r\n            className=\"space-y-6\"\r\n          >\r\n            <h3 className=\"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400\">\r\n              Quick Links\r\n            </h3>\r\n            <ul className=\"space-y-3\">\r\n              <motion.li whileHover={{ x: 5 }} transition={{ type: \"spring\", stiffness: 300 }}>\r\n                <Link to=\"/\" className=\"text-gray-400 hover:text-blue-400 transition-colors text-sm\">\r\n                  Home\r\n                </Link>\r\n              </motion.li>\r\n              <motion.li whileHover={{ x: 5 }} transition={{ type: \"spring\", stiffness: 300 }}>\r\n                <Link to=\"/shop\" className=\"text-gray-400 hover:text-blue-400 transition-colors text-sm\">\r\n                  Shop\r\n                </Link>\r\n              </motion.li>\r\n              <motion.li whileHover={{ x: 5 }} transition={{ type: \"spring\", stiffness: 300 }}>\r\n                <Link to=\"/about\" className=\"text-gray-400 hover:text-blue-400 transition-colors text-sm\">\r\n                  About Us\r\n                </Link>\r\n              </motion.li>\r\n              <motion.li whileHover={{ x: 5 }} transition={{ type: \"spring\", stiffness: 300 }}>\r\n                <Link to=\"/contact\" className=\"text-gray-400 hover:text-blue-400 transition-colors text-sm\">\r\n                  Contact\r\n                </Link>\r\n              </motion.li>\r\n            </ul>\r\n          </motion.div>\r\n\r\n          {/* Contact Info */}\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8, delay: 0.4 }}\r\n            viewport={{ once: true }}\r\n            className=\"space-y-6\"\r\n          >\r\n            <h3 className=\"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400\">\r\n              Contact Info\r\n            </h3>\r\n            <div className=\"space-y-4\">\r\n              <motion.div \r\n                whileHover={{ scale: 1.02 }}\r\n                className=\"flex items-center space-x-3 group\"\r\n              >\r\n                <div className=\"p-2 rounded-lg bg-gray-800/50 group-hover:bg-gray-800 transition-colors\">\r\n                  <MapPin className=\"h-4 w-4 text-blue-400\" />\r\n                </div>\r\n                <span className=\"text-gray-400 text-sm group-hover:text-blue-400 transition-colors\">\r\n                  darna\r\n                </span>\r\n              </motion.div>\r\n              <motion.div \r\n                whileHover={{ scale: 1.02 }}\r\n                className=\"flex items-center space-x-3 group\"\r\n              >\r\n                <div className=\"p-2 rounded-lg bg-gray-800/50 group-hover:bg-gray-800 transition-colors\">\r\n                  <Phone className=\"h-4 w-4 text-blue-400\" />\r\n                </div>\r\n                <span className=\"text-gray-400 text-sm group-hover:text-blue-400 transition-colors\">\r\n                  +21628687562\r\n                </span>\r\n              </motion.div>\r\n              <motion.div \r\n                whileHover={{ scale: 1.02 }}\r\n                className=\"flex items-center space-x-3 group\"\r\n              >\r\n                <div className=\"p-2 rounded-lg bg-gray-800/50 group-hover:bg-gray-800 transition-colors\">\r\n                  <Mail className=\"h-4 w-4 text-blue-400\" />\r\n                </div>\r\n                <span className=\"text-gray-400 text-sm group-hover:text-blue-400 transition-colors\">\r\n                  support@miniu.com\r\n                </span>\r\n              </motion.div>\r\n            </div>\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Bottom Bar */}\r\n        <motion.div \r\n          initial={{ opacity: 0, y: 20 }}\r\n          whileInView={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.8, delay: 0.6 }}\r\n          viewport={{ once: true }}\r\n          className=\"mt-12 pt-8 border-t border-gray-800/50 flex flex-col md:flex-row justify-between items-center\"\r\n        >\r\n          <p className=\"text-gray-500 text-sm\">\r\n            © {currentYear} MiniU. All rights reserved.\r\n          </p>\r\n          <div className=\"flex space-x-6 mt-4 md:mt-0\">\r\n            <Link to=\"/privacy\">\r\n              <motion.span \r\n                whileHover={{ scale: 1.05 }}\r\n                className=\"text-gray-400 hover:text-blue-400 transition-colors text-sm cursor-pointer\"\r\n              >\r\n                Privacy Policy\r\n              </motion.span>\r\n            </Link>\r\n            <Link to=\"/terms\">\r\n              <motion.span \r\n                whileHover={{ scale: 1.05 }}\r\n                className=\"text-gray-400 hover:text-blue-400 transition-colors text-sm cursor-pointer\"\r\n              >\r\n                Terms of Service\r\n              </motion.span>\r\n            </Link>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { Suspense } from 'react';\r\nimport Navbar from './Navbar';\r\nimport Footer from './Footer';\r\nconst AnimatedBackground = React.lazy(() => import('../common/AnimatedBackground'));\r\n\r\ninterface LayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\r\n  return (\r\n  <div className=\"min-h-screen flex flex-col bg-transparent text-gray-900 dark:text-white relative\">\r\n      {/* Fullsite animated background (non-interactive, behind content) */}\r\n      <Suspense fallback={null}>\r\n        <AnimatedBackground />\r\n      </Suspense>\r\n      <Navbar />\r\n      <main className=\"flex-1\">\r\n        {children}\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;","import { useState, useEffect } from 'react';\r\n\r\nexport function useLocalStorage<T>(key: string, initialValue: T) {\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState<T>(() => {\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.error(`Error reading localStorage key \"${key}\":`, error);\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  // Return a wrapped version of useState's setter function that persists the new value to localStorage\r\n  const setValue = (value: T | ((val: T) => T)) => {\r\n    try {\r\n      // Allow value to be a function so we have same API as useState\r\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\r\n      setStoredValue(valueToStore);\r\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n    } catch (error) {\r\n      console.error(`Error setting localStorage key \"${key}\":`, error);\r\n    }\r\n  };\r\n\r\n  return [storedValue, setValue] as const;\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { useLocalStorage } from './useLocalStorage';\r\nimport { Product, RecentlyViewedItem, WishlistItem } from '../types';\r\n\r\nexport const useRecentlyViewed = (maxItems: number = 6) => {\r\n  const [recentItems, setRecentItems] = useLocalStorage<RecentlyViewedItem[]>('recently-viewed', []);\r\n\r\n  const addToRecent = (product: Product) => {\r\n    setRecentItems(prev => {\r\n      const filtered = prev.filter(item => item.productId !== product.id);\r\n      return [\r\n        { productId: product.id, viewedAt: new Date().toISOString() },\r\n        ...filtered,\r\n      ].slice(0, maxItems);\r\n    });\r\n  };\r\n\r\n  return { recentItems, addToRecent };\r\n};\r\n\r\nexport const useWishlist = () => {\r\n  const [wishlistItems, setWishlistItems] = useLocalStorage<WishlistItem[]>('wishlist', []);\r\n  const [showToast, setShowToast] = useState(false);\r\n  const [toastMessage, setToastMessage] = useState('');\r\n\r\n  const addToWishlist = (product: Product) => {\r\n    setWishlistItems(prev => {\r\n      if (prev.some(item => item.productId === product.id)) {\r\n        setToastMessage('Product already in wishlist');\r\n        setShowToast(true);\r\n        return prev;\r\n      }\r\n      setToastMessage('Added to wishlist');\r\n      setShowToast(true);\r\n      return [...prev, { productId: product.id, dateAdded: new Date().toISOString() }];\r\n    });\r\n  };\r\n\r\n  const removeFromWishlist = (productId: string) => {\r\n    setWishlistItems(prev => prev.filter(item => item.productId !== productId));\r\n    setToastMessage('Removed from wishlist');\r\n    setShowToast(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (showToast) {\r\n      const timer = setTimeout(() => setShowToast(false), 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [showToast]);\r\n\r\n  return {\r\n    wishlistItems,\r\n    addToWishlist,\r\n    removeFromWishlist,\r\n    showToast,\r\n    toastMessage,\r\n  };\r\n};\r\n\r\nexport const useProductRecommendations = (\r\n  currentProduct?: Product,\r\n  recentlyViewed: RecentlyViewedItem[] = [],\r\n  wishlistItems: WishlistItem[] = []\r\n) => {\r\n  const [recommendations, setRecommendations] = useState<Product[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchRecommendations = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        // In a real app, you would call your backend API with the user's data\r\n        const response = await fetch('/api/recommendations', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            currentProductId: currentProduct?.id,\r\n            recentlyViewed: recentlyViewed.map(item => item.productId),\r\n            wishlistItems: wishlistItems.map(item => item.productId),\r\n          }),\r\n        });\r\n        const data = await response.json();\r\n        setRecommendations(data);\r\n      } catch (error) {\r\n        console.error('Error fetching recommendations:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRecommendations();\r\n  }, [currentProduct?.id, recentlyViewed, wishlistItems]);\r\n\r\n  return { recommendations, isLoading };\r\n};\r\n\r\ninterface UseAnalyticsOptions {\r\n  debug?: boolean;\r\n}\r\n\r\nexport const useAnalytics = (options: UseAnalyticsOptions = {}) => {\r\n  const trackEvent = async (eventName: string, eventData: Record<string, any> = {}) => {\r\n    try {\r\n      if (options.debug) {\r\n        console.log(`[Analytics] ${eventName}:`, eventData);\r\n      }\r\n\r\n      // In production, send to your analytics service\r\n      await fetch('/api/analytics', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          eventName,\r\n          timestamp: new Date().toISOString(),\r\n          data: eventData,\r\n        }),\r\n      });\r\n    } catch (error) {\r\n      console.error(`Error tracking event ${eventName}:`, error);\r\n    }\r\n  };\r\n\r\n  return { trackEvent };\r\n};\r\n","import React from 'react';\r\nimport { Product } from '../../types';\r\nimport { useWishlist } from '../../hooks/useProducts';\r\nimport Button from './Button';\r\n\r\ninterface QuickViewModalProps {\r\n  product: Product;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onAddToCart: (product: Product) => void;\r\n}\r\n\r\nconst QuickViewModal: React.FC<QuickViewModalProps> = ({\r\n  product,\r\n  isOpen,\r\n  onClose,\r\n  onAddToCart,\r\n}) => {\r\n  const { addToWishlist } = useWishlist();\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n      <div className=\"relative max-w-4xl w-full bg-white rounded-lg shadow-xl p-6 mx-4\">\r\n        <button\r\n          onClick={onClose}\r\n          className=\"absolute top-4 right-4 text-gray-500 hover:text-gray-700\"\r\n          aria-label=\"Close quick view\"\r\n        >\r\n          <svg\r\n            className=\"w-6 h-6\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M6 18L18 6M6 6l12 12\"\r\n            />\r\n          </svg>\r\n        </button>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n          <div className=\"relative\">\r\n            <img\r\n              src={product.imageUrl}\r\n              alt={product.name}\r\n              className=\"w-full h-full object-cover rounded-lg\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex flex-col justify-between\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n                {product.name}\r\n              </h2>\r\n              <p className=\"text-xl text-gray-900 mb-4\">${product.price}</p>\r\n              <p className=\"text-gray-600 mb-6\">{product.description}</p>\r\n              \r\n              {product.variants && (\r\n                <div className=\"mb-6\">\r\n                  <h3 className=\"text-sm font-medium text-gray-900 mb-2\">\r\n                    Available Options\r\n                  </h3>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {product.variants.map((variant, index) => (\r\n                      <button\r\n                        key={index}\r\n                        className=\"px-3 py-1 border rounded-md hover:border-gray-400\"\r\n                      >\r\n                        {variant}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"mb-4\">\r\n                <h3 className=\"text-sm font-medium text-gray-900 mb-2\">\r\n                  Stock Status\r\n                </h3>\r\n                <span className={`text-sm ${\r\n                  product.inStock ? 'text-green-600' : 'text-red-600'\r\n                }`}>\r\n                  {product.inStock ? 'In Stock' : 'Out of Stock'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-4\">\r\n              <Button\r\n                onClick={() => onAddToCart(product)}\r\n                className=\"flex-1\"\r\n                disabled={!product.inStock}\r\n              >\r\n                Add to Cart\r\n              </Button>\r\n              <Button\r\n                onClick={() => addToWishlist(product)}\r\n                variant=\"outline\"\r\n                className=\"px-4\"\r\n              >\r\n                <svg\r\n                  className=\"w-5 h-5\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                  />\r\n                </svg>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QuickViewModal;\r\n","import { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Star, ShoppingCart, Heart } from 'lucide-react';\r\nimport { Product } from '../../data/types';\r\nimport { formatPrice } from '../../utils/helpers';\r\nimport { useCart } from '../../contexts/CartContext';\r\nimport { useAnalytics } from '../../hooks/useProducts';\r\nimport { useWishlist } from '../../contexts/WishlistContext';\r\nimport Button from '../ui/Button';\r\nimport QuickViewModal from '../ui/QuickViewModal';\r\n\r\ninterface QuickViewProduct extends Product {\r\n  imageUrl: string;\r\n}\r\n\r\ninterface ProductCardProps {\r\n  product: Product;\r\n  className?: string;\r\n}\r\n\r\nconst ProductCard: React.FC<ProductCardProps> = ({ product, className = '' }) => {\r\n  const { addToCart, isInCart } = useCart();\r\n  const { addToWishlist, isInWishlist, removeFromWishlist } = useWishlist();\r\n  const { trackEvent } = useAnalytics();\r\n  const [isQuickViewOpen, setIsQuickViewOpen] = useState(false);\r\n\r\n  const handleAddToCart = (e?: React.MouseEvent) => {\r\n    if (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n    addToCart(product, 1);\r\n    trackEvent('add_to_cart', { productId: product.id });\r\n  };\r\n\r\n  const handleQuickView = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setIsQuickViewOpen(true);\r\n    trackEvent('product_quick_view', { productId: product.id });\r\n  };\r\n\r\n  const handleWishlistClick = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    if (isInWishlist(product.id)) {\r\n      removeFromWishlist(product.id);\r\n      trackEvent('remove_from_wishlist', { productId: product.id });\r\n    } else {\r\n      addToWishlist(product);\r\n      trackEvent('add_to_wishlist', { productId: product.id });\r\n    }\r\n  };\r\n\r\n  const discountPercentage = product.originalPrice \r\n    ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)\r\n    : 0;\r\n\r\n  const enrichedProduct = {\r\n    ...product,\r\n    imageUrl: product.images[0]?.startsWith('http') \r\n      ? product.images[0] \r\n      : `http://localhost:3002${product.images[0]}`\r\n  } as QuickViewProduct;\r\n\r\n  return (\r\n    <>\r\n      <div \r\n      className={`group relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-900 to-black dark:from-gray-800 dark:to-black \r\n      hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] ${className}`}\r\n    >\r\n      <div className=\"absolute inset-0 bg-gradient-to-br from-blue-600/10 to-purple-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\r\n      <Link to={`/product/${product.id}`} className=\"block\">\r\n        {/* Image Container */}\r\n        <div className=\"aspect-square overflow-hidden rounded-t-2xl bg-gray-800 relative\">\r\n          <img\r\n            src={product.images[0]?.startsWith('http') ? product.images[0] : `http://localhost:3002${product.images[0]}`}\r\n            alt={product.name}\r\n            className=\"h-full w-full object-cover object-center group-hover:scale-110 transition-transform duration-500\"\r\n          />\r\n          \r\n          {/* Discount Badge */}\r\n          {discountPercentage > 0 && (\r\n            <div className=\"absolute top-3 left-3 bg-gradient-to-r from-red-500 to-pink-500 text-white text-sm font-semibold px-3 py-1 rounded-full shadow-lg\">\r\n              -{discountPercentage}%\r\n            </div>\r\n          )}\r\n\r\n          {/* Quick Actions */}\r\n          <div className=\"absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n            <button\r\n              onClick={handleWishlistClick}\r\n              className={`p-2 backdrop-blur-sm rounded-full shadow-md transition-colors ${\r\n                isInWishlist(product.id)\r\n                  ? 'bg-pink-500 text-white hover:bg-pink-600'\r\n                  : 'bg-white/90 text-gray-800 hover:bg-white'\r\n              }`}\r\n              aria-label={isInWishlist(product.id) ? 'Remove from wishlist' : 'Add to wishlist'}\r\n            >\r\n              <Heart \r\n                className=\"w-5 h-5\" \r\n                fill={isInWishlist(product.id) ? 'currentColor' : 'none'} \r\n              />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Quick View Button */}\r\n          <button\r\n            onClick={handleQuickView}\r\n            className=\"absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur-sm text-gray-900 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-all duration-300 hover:bg-white\"\r\n          >\r\n            Quick View\r\n          </button>\r\n\r\n          {/* Out of Stock Badge */}\r\n          {!product.inStock && (\r\n            <div className=\"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center\">\r\n              <span className=\"text-white font-semibold text-xl\">Out of Stock</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6\">\r\n          {/* Category */}\r\n          <p className=\"text-sm text-blue-400 dark:text-blue-300 font-medium uppercase tracking-wider mb-2\">\r\n            {product.category}\r\n          </p>\r\n          \r\n          {/* Name */}\r\n          <h3 className=\"text-lg font-semibold text-white mb-3 line-clamp-2 group-hover:text-blue-300 transition-colors duration-300\">\r\n            {product.name}\r\n          </h3>\r\n          \r\n          {/* Rating */}\r\n          <div className=\"flex items-center mb-4\">\r\n            <div className=\"flex items-center\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <Star\r\n                  key={i}\r\n                  className={`h-4 w-4 ${\r\n                    i < Math.floor(product.rating)\r\n                      ? 'text-yellow-400 fill-current'\r\n                      : 'text-gray-600'\r\n                  }`}\r\n                />\r\n              ))}\r\n            </div>\r\n            <span className=\"ml-2 text-sm text-gray-400\">\r\n              ({product.reviewCount})\r\n            </span>\r\n          </div>\r\n          \r\n          {/* Price */}\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <span className=\"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\r\n                {formatPrice(product.price)}\r\n              </span>\r\n              {product.originalPrice && (\r\n                <span className=\"text-base text-gray-500 line-through\">\r\n                  {formatPrice(product.originalPrice)}\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      \r\n      {/* Add to Cart Button */}\r\n      <div className=\"p-6 pt-0\">\r\n        <Button\r\n          onClick={handleAddToCart}\r\n          disabled={!product.inStock}\r\n          className={`w-full group ${\r\n            isInCart(product.id)\r\n              ? 'bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600'\r\n              : 'bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600'\r\n          } text-white shadow-lg hover:shadow-xl transition-all duration-300`}\r\n          size=\"lg\"\r\n        >\r\n          <ShoppingCart className={`h-5 w-5 mr-2 transition-transform duration-300 ${\r\n            isInCart(product.id) ? 'scale-110' : 'group-hover:scale-110'\r\n          }`} />\r\n          {isInCart(product.id) ? 'Added to Cart' : 'Add to Cart'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n\r\n    <QuickViewModal\r\n      product={enrichedProduct}\r\n      isOpen={isQuickViewOpen}\r\n      onClose={() => setIsQuickViewOpen(false)}\r\n      onAddToCart={() => {\r\n        addToCart(product, 1);\r\n        trackEvent('add_to_cart', { productId: product.id });\r\n      }}\r\n    />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductCard;","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { ArrowRight, Truck, Shield, Headphones, ArrowUp, Search } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { shuffleArray } from \"../../utils/helpers\";\r\nimport { Product } from \"../../data/types\";\r\nimport ProductCard from \"../../components/common/ProductCard\";\r\nimport Button from \"../../components/ui/Button\";\r\n\r\nconst HomePage: React.FC = () => {\r\n  // Animated background is provided by Layout; no body background override here\r\n  const navigate = useNavigate();\r\n  const [featuredProducts, setFeaturedProducts] = useState<Product[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showScrollTop, setShowScrollTop] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  // Show \"scroll to top\" button\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setShowScrollTop(window.scrollY > 500);\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, []);\r\n\r\n  const scrollToTop = () => {\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  };\r\n\r\n  // Fetch featured products\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    fetch(\"http://localhost:3002/api/products\")\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        const transformedProducts = data.map((product: any) => ({\r\n          id: product.id.toString(),\r\n          name: product.name,\r\n          description: product.description,\r\n          price: product.price,\r\n          category: product.category,\r\n          images: [product.image],\r\n          inStock: product.stockQuantity > 0,\r\n          stockQuantity: product.stockQuantity,\r\n          rating: 4.5,\r\n          reviewCount: 0,\r\n          tags: [],\r\n          createdAt: product.created_at,\r\n        })) as Product[];\r\n\r\n        setFeaturedProducts(shuffleArray(transformedProducts).slice(0, 6));\r\n        setIsLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching products:\", error);\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen relative\">\r\n      <div className=\"relative z-10\">\r\n        {/* Hero Section */}\r\n        <section className=\"relative min-h-[80vh] overflow-hidden\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-32 flex items-center min-h-[80vh]\">\r\n            <div className=\"w-full\">\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.8 }}\r\n                className=\"text-center\"\r\n              >\r\n                <motion.h1\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.8, delay: 0.2 }}\r\n                  className=\"text-5xl md:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-white to-blue-100 dark:from-white dark:to-gray-300\"\r\n                >\r\n                  Welcome to MiniU\r\n                </motion.h1>\r\n                <motion.p\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.8, delay: 0.4 }}\r\n                  className=\"text-xl md:text-2xl mb-12 text-white/90 dark:text-gray-300 max-w-3xl mx-auto font-light\"\r\n                >\r\n                  Discover amazing products at unbeatable prices. Quality, style,\r\n                  and convenience all in one place.\r\n                </motion.p>\r\n\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.8, delay: 0.6 }}\r\n                  className=\"flex flex-col sm:flex-row gap-6 justify-center\"\r\n                >\r\n                  <div className=\"flex flex-col sm:flex-row gap-4 items-center justify-center\">\r\n                    {/* Search Bar */}\r\n                    <div className=\"relative w-full sm:w-96\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search products...\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                        onKeyDown={(e) => {\r\n                          if (e.key === \"Enter\" && searchQuery.trim()) {\r\n                            navigate(`/shop?search=${encodeURIComponent(searchQuery.trim())}`);\r\n                          }\r\n                        }}\r\n                        className=\"w-full px-4 py-3 rounded-xl bg-white/10 backdrop-blur-md text-white placeholder-white/60 border border-white/20 focus:border-white/40 focus:outline-none focus:ring-2 focus:ring-white/20\"\r\n                      />\r\n                      <button\r\n                        onClick={() => {\r\n                          if (searchQuery.trim()) {\r\n                            navigate(`/shop?search=${encodeURIComponent(searchQuery.trim())}`);\r\n                          }\r\n                        }}\r\n                        className=\"absolute right-3 top-1/2 -translate-y-1/2 text-white/60 hover:text-white transition-colors\"\r\n                      >\r\n                        <Search className=\"h-5 w-5\" />\r\n                      </button>\r\n                    </div>\r\n\r\n                    {/* Explore Button */}\r\n                    <Link to=\"/shop\">\r\n                      <Button\r\n                        size=\"lg\"\r\n                        className=\"group bg-white text-blue-600 hover:bg-blue-50 dark:bg-white dark:text-gray-900 dark:hover:bg-gray-100 px-8 py-4 text-lg relative overflow-hidden transform transition-transform hover:scale-105 whitespace-nowrap\"\r\n                      >\r\n                        <span className=\"relative z-10 flex items-center\">\r\n                          Explore Products\r\n                          <ArrowRight className=\"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1\" />\r\n                        </span>\r\n                      </Button>\r\n                    </Link>\r\n                  </div>\r\n                </motion.div>\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Scroll indicator */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            transition={{ delay: 1, duration: 1 }}\r\n            className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2\"\r\n          >\r\n            <motion.div\r\n              animate={{ y: [0, 10, 0] }}\r\n              transition={{ repeat: Infinity, duration: 2 }}\r\n              className=\"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center\"\r\n            >\r\n              <motion.div\r\n                animate={{ y: [0, 12, 0] }}\r\n                transition={{ repeat: Infinity, duration: 2 }}\r\n                className=\"w-1 h-3 bg-white/50 rounded-full mt-2\"\r\n              />\r\n            </motion.div>\r\n          </motion.div>\r\n        </section>\r\n\r\n  {/* Featured Products Section (transparent so background canvas shows through) */}\r\n  <section className=\"py-20 bg-transparent\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.8 }}\r\n              viewport={{ once: true }}\r\n              className=\"text-center mb-16\"\r\n            >\r\n              <h2 className=\"text-4xl md:text-5xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-300\">\r\n                Featured Products\r\n              </h2>\r\n              <p className=\"text-lg text-gray-300 max-w-2xl mx-auto\">\r\n                Check out our most popular and trending products.\r\n              </p>\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.8, delay: 0.2 }}\r\n              viewport={{ once: true }}\r\n              className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\"\r\n            >\r\n              {isLoading\r\n                ? [...Array(6)].map((_, index) => (\r\n                    <motion.div\r\n                      key={index}\r\n                      className=\"bg-gray-800/50 rounded-2xl h-[400px] animate-pulse\"\r\n                      initial={{ opacity: 0, y: 20 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                    >\r\n                      <div className=\"h-64 bg-gray-700/50 rounded-t-2xl\" />\r\n                      <div className=\"p-4 space-y-3\">\r\n                        <div className=\"h-4 bg-gray-700/50 rounded w-3/4\" />\r\n                        <div className=\"h-4 bg-gray-700/50 rounded w-1/2\" />\r\n                        <div className=\"h-10 bg-gray-700/50 rounded mt-4\" />\r\n                      </div>\r\n                    </motion.div>\r\n                  ))\r\n                : featuredProducts.map((product, index) => (\r\n                    <motion.div\r\n                      key={product.id}\r\n                      initial={{ opacity: 0, y: 20 }}\r\n                      whileInView={{ opacity: 1, y: 0 }}\r\n                      transition={{ duration: 0.5, delay: index * 0.1 }}\r\n                      viewport={{ once: true }}\r\n                    >\r\n                      <ProductCard product={product} />\r\n                    </motion.div>\r\n                  ))}\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.8, delay: 0.4 }}\r\n              viewport={{ once: true }}\r\n              className=\"text-center mt-16\"\r\n            >\r\n              <Link to=\"/shop\">\r\n                <Button\r\n                  size=\"lg\"\r\n                  className=\"group bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 text-lg relative overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-xl\"\r\n                >\r\n                  <span className=\"relative z-10 flex items-center\">\r\n                    View All Products\r\n                    <ArrowRight className=\"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1\" />\r\n                  </span>\r\n                </Button>\r\n              </Link>\r\n            </motion.div>\r\n          </div>\r\n        </section>\r\n\r\n  {/* Features Section (transparent so background canvas shows through) */}\r\n  <section className=\"py-20 bg-transparent relative overflow-hidden\">\r\n          <motion.div\r\n            className=\"absolute inset-0 bg-[url('/hero-pattern.svg')] opacity-5\"\r\n            animate={{\r\n              backgroundPosition: [\"0px 0px\", \"100px 100px\"],\r\n            }}\r\n            transition={{\r\n              duration: 20,\r\n              repeat: Infinity,\r\n              repeatType: \"reverse\",\r\n            }}\r\n          />\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative\">\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.8 }}\r\n              viewport={{ once: true }}\r\n              className=\"text-center mb-16\"\r\n            >\r\n              <h2 className=\"text-4xl md:text-5xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-pink-300\">\r\n                Why Choose MiniU?\r\n              </h2>\r\n              <p className=\"text-lg text-gray-300 max-w-2xl mx-auto\">\r\n                We're committed to providing you with the best shopping experience possible.\r\n              </p>\r\n            </motion.div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-12\">\r\n              <motion.div\r\n                whileHover={{ scale: 1.05 }}\r\n                transition={{ type: \"spring\", stiffness: 300 }}\r\n                className=\"text-center p-8 rounded-2xl bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-sm border border-gray-800\"\r\n              >\r\n                <div className=\"bg-gradient-to-br from-blue-500 to-purple-500 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-6\">\r\n                  <Truck className=\"h-8 w-8 text-white\" />\r\n                </div>\r\n                <h3 className=\"text-2xl font-semibold text-white mb-4\">Fast Shipping</h3>\r\n                <p className=\"text-gray-300\">Free shipping on orders over $50. Get your products delivered quickly and safely.</p>\r\n              </motion.div>\r\n\r\n              <motion.div\r\n                whileHover={{ scale: 1.05 }}\r\n                transition={{ type: \"spring\", stiffness: 300 }}\r\n                className=\"text-center p-8 rounded-2xl bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-sm border border-gray-800\"\r\n              >\r\n                <div className=\"bg-gradient-to-br from-purple-500 to-pink-500 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-6\">\r\n                  <Shield className=\"h-8 w-8 text-white\" />\r\n                </div>\r\n                <h3 className=\"text-2xl font-semibold text-white mb-4\">Secure Shopping</h3>\r\n                <p className=\"text-gray-300\">Your personal information and payment details are always protected with us.</p>\r\n              </motion.div>\r\n\r\n              <motion.div\r\n                whileHover={{ scale: 1.05 }}\r\n                transition={{ type: \"spring\", stiffness: 300 }}\r\n                className=\"text-center p-8 rounded-2xl bg-gradient-to-br from-gray-800/50 to-gray-900/50 backdrop-blur-sm border border-gray-800\"\r\n              >\r\n                <div className=\"bg-gradient-to-br from-pink-500 to-red-500 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-6\">\r\n                  <Headphones className=\"h-8 w-8 text-white\" />\r\n                </div>\r\n                <h3 className=\"text-2xl font-semibold text-white mb-4\">24/7 Support</h3>\r\n                <p className=\"text-gray-300\">Our customer support team is here to help you whenever you need assistance.</p>\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n  {/* Newsletter Section (transparent so background canvas shows through) */}\r\n  <section className=\"py-20 bg-transparent relative overflow-hidden\">\r\n          <div className=\"absolute inset-0 bg-[url('/hero-pattern.svg')] opacity-5\"></div>\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative\">\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              whileInView={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.8 }}\r\n              viewport={{ once: true }}\r\n              className=\"text-center\"\r\n            >\r\n              <h2 className=\"text-3xl md:text-4xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-300\">\r\n                Stay Updated\r\n              </h2>\r\n              <p className=\"text-lg text-gray-300 max-w-2xl mx-auto mb-8\">\r\n                Subscribe to our newsletter for exclusive deals, new arrivals, and insider-only discounts.\r\n              </p>\r\n\r\n              <form\r\n                onSubmit={async (e) => {\r\n                  e.preventDefault();\r\n                  const form = e.target as HTMLFormElement & { email: { value: string } };\r\n                  const email = form.email.value;\r\n                  try {\r\n                    const res = await fetch(\"http://localhost:3002/api/newsletter\", {\r\n                      method: \"POST\",\r\n                      headers: { \"Content-Type\": \"application/json\" },\r\n                      body: JSON.stringify({ email }),\r\n                    });\r\n                    const result = await res.json();\r\n                    if (result.success) {\r\n                      alert(\"Thank you for subscribing! Check your email for confirmation.\");\r\n                      form.reset();\r\n                    } else {\r\n                      alert(result.error || \"Subscription failed. Please try again.\");\r\n                    }\r\n                  } catch (err) {\r\n                    alert(\"Network error. Please try again later.\");\r\n                  }\r\n                }}\r\n                className=\"max-w-md mx-auto\"\r\n              >\r\n                <div className=\"flex gap-4 flex-col sm:flex-row\">\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    required\r\n                    placeholder=\"Enter your email\"\r\n                    className=\"flex-1 px-4 py-3 rounded-xl bg-white/10 backdrop-blur-md text-white placeholder-white/60 border border-white/20 focus:border-white/40 focus:outline-none focus:ring-2 focus:ring-white/20\"\r\n                  />\r\n                  <Button\r\n                    type=\"submit\"\r\n                    size=\"lg\"\r\n                    className=\"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white transform hover:scale-105 transition-all duration-300\"\r\n                  >\r\n                    Subscribe\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </motion.div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Scroll to top button */}\r\n        <AnimatePresence>\r\n          {showScrollTop && (\r\n            <motion.button\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: 20 }}\r\n              onClick={scrollToTop}\r\n              className=\"fixed bottom-8 right-8 p-3 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300\"\r\n            >\r\n              <ArrowUp className=\"h-6 w-6\" />\r\n            </motion.button>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Trash2, Plus, Minus, ShoppingBag } from 'lucide-react';\nimport { useCart } from '../../contexts/CartContext';\nimport { formatPrice } from '../../utils/helpers';\nimport Button from '../../components/ui/Button';\n\nconst CartPage: React.FC = () => {\n  const { state, updateQuantity, removeFromCart, clearCart } = useCart();\n\n  if (state.items.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-black flex items-center justify-center\">\n        <div className=\"text-center\">\n          <ShoppingBag className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">Your cart is empty</h1>\n          <p className=\"text-gray-600 dark:text-gray-300 mb-6\">Start shopping to add items to your cart.</p>\n          <Link to=\"/shop\">\n            <Button size=\"lg\" className=\"bg-gray-900 dark:bg-white text-white dark:text-gray-900 hover:bg-gray-800 dark:hover:bg-gray-200\">Continue Shopping</Button>\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-black\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-8\">Shopping Cart</h1>\n        \n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Cart Items */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                    Cart Items ({state.totalItems})\n                  </h2>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={clearCart}\n                    className=\"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300\"\n                  >\n                    Clear Cart\n                  </Button>\n                </div>\n                \n                <div className=\"space-y-6\">\n                  {state.items.map((item) => (\n                    <div key={item.id} className=\"flex items-center space-x-4 pb-6 border-b border-gray-200 dark:border-gray-700 last:border-b-0\">\n                      <img\n                        src={item.image}\n                        alt={item.name}\n                        className=\"w-20 h-20 object-cover rounded-lg\"\n                      />\n                      \n                      <div className=\"flex-1\">\n                        <h3 className=\"text-lg font-medium text-gray-900 dark:text-white\">{item.name}</h3>\n                        <p className=\"text-gray-600 dark:text-gray-300\">{formatPrice(item.price)}</p>\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                          className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white\"\n                        >\n                          <Minus className=\"h-4 w-4\" />\n                        </button>\n                        <span className=\"w-12 text-center text-gray-900 dark:text-white\">{item.quantity}</span>\n                        <button\n                          onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                          className=\"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white\"\n                        >\n                          <Plus className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                      \n                      <div className=\"text-right\">\n                        <p className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                          {formatPrice(item.price * item.quantity)}\n                        </p>\n                        <button\n                          onClick={() => removeFromCart(item.id)}\n                          className=\"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 mt-1\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Order Summary */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-sm p-6 sticky top-4 border border-gray-200 dark:border-gray-700\">\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Order Summary</h2>\n              \n              <div className=\"space-y-3 mb-6\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-300\">Subtotal</span>\n                  <span className=\"font-medium text-gray-900 dark:text-white\">{formatPrice(state.totalPrice)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-300\">Shipping</span>\n                  <span className=\"font-medium text-gray-900 dark:text-white\">\n                    {state.totalPrice > 50 ? 'Free' : formatPrice(9.99)}\n                  </span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-300\">Tax</span>\n                  <span className=\"font-medium text-gray-900 dark:text-white\">{formatPrice(state.totalPrice * 0.08)}</span>\n                </div>\n                <div className=\"border-t border-gray-200 dark:border-gray-700 pt-3\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-lg font-semibold text-gray-900 dark:text-white\">Total</span>\n                    <span className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                      {formatPrice(\n                        state.totalPrice + \n                        (state.totalPrice > 50 ? 0 : 9.99) + \n                        (state.totalPrice * 0.08)\n                      )}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              <Link to=\"/checkout\">\n                <Button size=\"lg\" className=\"w-full mb-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 hover:bg-gray-800 dark:hover:bg-gray-200\">\n                  Proceed to Checkout\n                </Button>\n              </Link>\n              \n              <Link to=\"/shop\">\n                <Button variant=\"outline\" size=\"lg\" className=\"w-full border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800\">\n                  Continue Shopping\n                </Button>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CartPage;","import React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useWishlist } from '../../contexts/WishlistContext';\r\nimport { useCart } from '../../contexts/CartContext';\r\nimport Button from '../../components/ui/Button';\r\nimport { ShoppingCart, Trash2, Heart } from 'lucide-react';\r\nimport { formatPrice } from '../../utils/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst WishlistPage: React.FC = () => {\r\n  const { state: wishlistState, removeFromWishlist, clearWishlist } = useWishlist();\r\n  const { addToCart } = useCart();\r\n\r\n  if (wishlistState.items.length === 0) {\r\n    return (\r\n      <div className=\"min-h-screen bg-black dark:bg-gray-900 py-20\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n            className=\"text-center\"\r\n          >\r\n            <Heart className=\"w-20 h-20 mx-auto mb-6 text-gray-400\" />\r\n            <h1 className=\"text-4xl font-bold text-white mb-4\">Your Wishlist is Empty</h1>\r\n            <p className=\"text-gray-400 mb-8\">Browse our products and add some items to your wishlist!</p>\r\n            <Link to=\"/shop\">\r\n              <Button size=\"lg\" className=\"bg-blue-600 hover:bg-blue-700 text-white\">\r\n                Continue Shopping\r\n              </Button>\r\n            </Link>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-black dark:bg-gray-900 py-20\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.8 }}\r\n          className=\"mb-12\"\r\n        >\r\n          <div className=\"flex justify-between items-center mb-8\">\r\n            <h1 className=\"text-4xl font-bold text-white\">My Wishlist</h1>\r\n            <Button\r\n              onClick={clearWishlist}\r\n              variant=\"outline\"\r\n              className=\"text-red-500 border-red-500 hover:bg-red-500 hover:text-white\"\r\n            >\r\n              Clear Wishlist\r\n            </Button>\r\n          </div>\r\n        </motion.div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n          {wishlistState.items.map((item) => (\r\n            <motion.div\r\n              key={item.id}\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"bg-gray-800 rounded-xl overflow-hidden shadow-lg\"\r\n            >\r\n              <Link to={`/product/${item.id}`}>\r\n                <div className=\"aspect-w-16 aspect-h-12 bg-gray-900\">\r\n                  <img\r\n                    src={item.product.images[0]}\r\n                    alt={item.product.name}\r\n                    className=\"w-full h-full object-cover\"\r\n                  />\r\n                </div>\r\n              </Link>\r\n\r\n              <div className=\"p-6\">\r\n                <Link to={`/product/${item.id}`}>\r\n                  <h3 className=\"text-xl font-semibold text-white mb-2 hover:text-blue-400 transition-colors\">\r\n                    {item.product.name}\r\n                  </h3>\r\n                </Link>\r\n                <p className=\"text-gray-400 mb-4 line-clamp-2\">{item.product.description}</p>\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-2xl font-bold text-white\">\r\n                    {formatPrice(item.product.price)}\r\n                  </span>\r\n                  <div className=\"flex gap-2\">\r\n                    <Button\r\n                      onClick={() => removeFromWishlist(item.id)}\r\n                      variant=\"outline\"\r\n                      className=\"text-red-500 border-red-500 hover:bg-red-500 hover:text-white p-2\"\r\n                    >\r\n                      <Trash2 className=\"w-5 h-5\" />\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => addToCart(item.product, 1)}\r\n                      className=\"bg-blue-600 hover:bg-blue-700 text-white p-2\"\r\n                    >\r\n                      <ShoppingCart className=\"w-5 h-5\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WishlistPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useCart } from '../../contexts/CartContext';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport Button from '../../components/ui/Button';\r\nimport { \r\n  Smartphone,\r\n  MapPin,\r\n  User,\r\n  Mail,\r\n  Phone,\r\n  CheckCircle,\r\n  Lock,\r\n  Loader2\r\n} from 'lucide-react';\r\n\r\ninterface PaymentMethod {\r\n  id: string;\r\n  name: string;\r\n  icon: React.ReactNode;\r\n  description: string;\r\n  available: boolean;\r\n}\r\n\r\ninterface ShippingInfo {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  phone: string;\r\n  address: string;\r\n  city: string;\r\n  postalCode: string;\r\n  governorate: string;\r\n}\r\n\r\nconst CheckoutPage = () => {\r\n  const navigate = useNavigate();\r\n  const { state, clearCart } = useCart();\r\n  const { state: authState } = useAuth();\r\n  \r\n  const user = authState.user;\r\n  \r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState('');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [orderComplete, setOrderComplete] = useState(false);\r\n  const [orderId, setOrderId] = useState<number | null>(null);\r\n  \r\n  const [shippingInfo, setShippingInfo] = useState<ShippingInfo>({\r\n    firstName: user?.name?.split(' ')[0] || '',\r\n    lastName: user?.name?.split(' ')[1] || '',\r\n    email: user?.email || '',\r\n    phone: '',\r\n    address: '',\r\n    city: '',\r\n    postalCode: '',\r\n    governorate: ''\r\n  });\r\n\r\n  // Tunisia governorates\r\n  const tunisianGovernorates = [\r\n    'Tunis', 'Ariana', 'Ben Arous', 'Manouba', 'Nabeul', 'Zaghouan',\r\n    'Bizerte', 'Béja', 'Jendouba', 'Kef', 'Siliana', 'Kairouan',\r\n    'Kasserine', 'Sidi Bouzid', 'Sousse', 'Monastir', 'Mahdia',\r\n    'Sfax', 'Gafsa', 'Tozeur', 'Kebili', 'Gabès', 'Medenine', 'Tataouine'\r\n  ];\r\n\r\n  // Payment methods available in Tunisia\r\n  const paymentMethods: PaymentMethod[] = [\r\n    {\r\n      id: 'flouci',\r\n      name: 'Flouci',\r\n      icon: <Smartphone className=\"h-6 w-6\" />,\r\n      description: 'Pay securely with your Flouci account',\r\n      available: true\r\n    },\r\n    {\r\n      id: 'cash_on_delivery',\r\n      name: 'Cash on Delivery',\r\n      icon: <MapPin className=\"h-6 w-6\" />,\r\n      description: 'Pay when you receive your order (Additional 5 TND fee)',\r\n      available: true\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (state.items.length === 0) {\r\n      navigate('/cart');\r\n    }\r\n  }, [state.items, navigate]);\r\n\r\n  const handleShippingSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setCurrentStep(2);\r\n  };\r\n\r\n  const handlePaymentSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsProcessing(true);\r\n\r\n    try {\r\n      const orderData = {\r\n        customer_email: shippingInfo.email,\r\n        total: selectedPaymentMethod === 'cash_on_delivery' \r\n          ? state.totalPrice + 5 // Add 5 TND for cash on delivery\r\n          : state.totalPrice,\r\n        payment_method: selectedPaymentMethod,\r\n        items: state.items,\r\n        shipping_info: shippingInfo\r\n      };\r\n\r\n      if (selectedPaymentMethod === 'flouci') {\r\n        // Initialize Flouci payment with real API\r\n        const paymentResponse = await fetch('http://localhost:3002/api/payment/flouci/init', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${process.env.REACT_APP_FLOUCI_API_KEY}`\r\n          },\r\n          body: JSON.stringify({\r\n            app_token: process.env.REACT_APP_FLOUCI_APP_TOKEN,\r\n            app_secret: process.env.REACT_APP_FLOUCI_APP_SECRET,\r\n            amount: state.totalPrice * 1000, // Convert to millimes\r\n            accept_card: \"true\",\r\n            session_timeout_secs: 1200,\r\n            success_link: `${window.location.origin}/checkout/success`,\r\n            fail_link: `${window.location.origin}/checkout/failure`,\r\n            developer_tracking: process.env.REACT_APP_FLOUCI_DEVELOPER_ID,\r\n            order_id: Date.now().toString(),\r\n            client_email: shippingInfo.email,\r\n            client_name: `${shippingInfo.firstName} ${shippingInfo.lastName}`,\r\n            client_phone: shippingInfo.phone,\r\n            address_billing: shippingInfo.address,\r\n            city_billing: shippingInfo.city,\r\n            zip_billing: shippingInfo.postalCode\r\n          })\r\n        });\r\n\r\n        if (paymentResponse.ok) {\r\n          const { result } = await paymentResponse.json();\r\n          if (result && result.pay_token) {\r\n            // Redirect to Flouci secure payment page\r\n            window.location.href = `https://secure.flouci.com/pay/${result.pay_token}`;\r\n            return;\r\n          }\r\n          throw new Error('Invalid payment token');\r\n        }\r\n      }\r\n\r\n      // For cash on delivery or after successful Flouci payment\r\n      const response = await fetch('http://localhost:3002/api/orders', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(orderData)\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setOrderId(result.orderId);\r\n        setOrderComplete(true);\r\n        clearCart();\r\n      } else {\r\n        throw new Error('Failed to create order');\r\n      }\r\n    } catch (error) {\r\n      console.error('Payment error:', error);\r\n      alert('Payment failed. Please try again.');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  if (orderComplete) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"max-w-md w-full space-y-8 text-center\">\r\n          <div>\r\n            <div className=\"bg-green-500/10 p-4 rounded-full inline-block\">\r\n              <CheckCircle className=\"mx-auto h-16 w-16 text-green-500\" />\r\n            </div>\r\n            <h2 className=\"mt-6 text-3xl font-extrabold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\r\n              Order Confirmed!\r\n            </h2>\r\n            <p className=\"mt-2 text-gray-300\">\r\n              Thank you for your purchase. Your order has been placed successfully.\r\n            </p>\r\n            {orderId && (\r\n              <p className=\"mt-2 text-blue-400\">\r\n                Order ID: {orderId}\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div className=\"mt-5 space-y-4\">\r\n            <Button\r\n              onClick={() => navigate('/shop')}\r\n              className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white\"\r\n            >\r\n              Continue Shopping\r\n            </Button>\r\n            <Button\r\n              onClick={() => navigate('/')}\r\n              className=\"w-full bg-gray-800 text-gray-300 hover:bg-gray-700\"\r\n            >\r\n              Back to Home\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black py-12\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Progress steps */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center justify-center space-x-4\">\r\n            <div className={`flex items-center ${currentStep === 1 ? 'text-blue-400' : 'text-gray-500'}`}>\r\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center border-2 ${\r\n                currentStep === 1 ? 'border-blue-400 bg-blue-400/10' : 'border-gray-500 bg-gray-500/10'\r\n              }`}>\r\n                1\r\n              </div>\r\n              <span className=\"ml-2\">Shipping</span>\r\n            </div>\r\n            <div className={`w-16 h-0.5 ${currentStep === 2 ? 'bg-blue-400' : 'bg-gray-500'}`} />\r\n            <div className={`flex items-center ${currentStep === 2 ? 'text-blue-400' : 'text-gray-500'}`}>\r\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center border-2 ${\r\n                currentStep === 2 ? 'border-blue-400 bg-blue-400/10' : 'border-gray-500 bg-gray-500/10'\r\n              }`}>\r\n                2\r\n              </div>\r\n              <span className=\"ml-2\">Payment</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {currentStep === 1 ? (\r\n          <div className=\"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl border border-gray-700\">\r\n            <h2 className=\"text-2xl font-semibold text-white mb-6\">Shipping Information</h2>\r\n            <form onSubmit={handleShippingSubmit} className=\"space-y-6\">\r\n              <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\r\n                <div>\r\n                  <label className=\"flex items-center text-sm font-medium text-gray-300 mb-2\">\r\n                    <User className=\"inline h-4 w-4 mr-1\" />\r\n                    First Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={shippingInfo.firstName}\r\n                    onChange={(e) => setShippingInfo({ ...shippingInfo, firstName: e.target.value })}\r\n                    className=\"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white placeholder-gray-400 border border-gray-600 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 focus:outline-none\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"flex items-center text-sm font-medium text-gray-300 mb-2\">\r\n                    <User className=\"inline h-4 w-4 mr-1\" />\r\n                    Last Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={shippingInfo.lastName}\r\n                    onChange={(e) => setShippingInfo({ ...shippingInfo, lastName: e.target.value })}\r\n                    className=\"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white placeholder-gray-400 border border-gray-600 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 focus:outline-none\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"flex items-center text-sm font-medium text-gray-300 mb-2\">\r\n                    <Mail className=\"inline h-4 w-4 mr-1 text-blue-400\" />\r\n                    Email Address\r\n                  </label>\r\n                  <input\r\n                    type=\"email\"\r\n                    required\r\n                    value={shippingInfo.email}\r\n                    onChange={(e) => setShippingInfo({ ...shippingInfo, email: e.target.value })}\r\n                    className=\"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white placeholder-gray-400 border border-gray-600 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 focus:outline-none\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"flex items-center text-sm font-medium text-gray-300 mb-2\">\r\n                    <Phone className=\"inline h-4 w-4 mr-1 text-blue-400\" />\r\n                    Phone Number\r\n                  </label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    required\r\n                    value={shippingInfo.phone}\r\n                    onChange={(e) => setShippingInfo({ ...shippingInfo, phone: e.target.value })}\r\n                    className=\"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white placeholder-gray-400 border border-gray-600 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 focus:outline-none\"\r\n                  />\r\n                </div>\r\n                <div className=\"sm:col-span-2\">\r\n                  <label className=\"flex items-center text-sm font-medium text-gray-300 mb-2\">\r\n                    <MapPin className=\"inline h-4 w-4 mr-1\" />\r\n                    Address\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={shippingInfo.address}\r\n                    onChange={(e) => setShippingInfo({ ...shippingInfo, address: e.target.value })}\r\n                    className=\"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white placeholder-gray-400 border border-gray-600 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 focus:outline-none\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                    City\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={shippingInfo.city}\r\n                    onChange={(e) => setShippingInfo({ ...shippingInfo, city: e.target.value })}\r\n                    className=\"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white placeholder-gray-400 border border-gray-600 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 focus:outline-none\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                    Postal Code\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    value={shippingInfo.postalCode}\r\n                    onChange={(e) => setShippingInfo({ ...shippingInfo, postalCode: e.target.value })}\r\n                    className=\"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white placeholder-gray-400 border border-gray-600 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 focus:outline-none\"\r\n                  />\r\n                </div>\r\n                <div className=\"sm:col-span-2\">\r\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                    Governorate\r\n                  </label>\r\n                  <select\r\n                    required\r\n                    value={shippingInfo.governorate}\r\n                    onChange={(e) => setShippingInfo({ ...shippingInfo, governorate: e.target.value })}\r\n                    className=\"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white placeholder-gray-400 border border-gray-600 focus:border-blue-400 focus:ring-2 focus:ring-blue-400/20 focus:outline-none\"\r\n                  >\r\n                    <option value=\"\">Select a governorate</option>\r\n                    {tunisianGovernorates.map((governorate) => (\r\n                      <option key={governorate} value={governorate}>\r\n                        {governorate}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-between mt-8\">\r\n                <Button\r\n                  onClick={() => navigate('/cart')}\r\n                  className=\"bg-gray-700 text-gray-300 hover:bg-gray-600\"\r\n                >\r\n                  Back to Cart\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  className=\"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white\"\r\n                >\r\n                  Continue to Payment\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl border border-gray-700\">\r\n            <h2 className=\"text-2xl font-semibold text-white mb-6\">Payment Method</h2>\r\n            <div className=\"space-y-4\">\r\n              {paymentMethods.map((method) => (\r\n                <div\r\n                  key={method.id}\r\n                  onClick={() => method.available && setSelectedPaymentMethod(method.id)}\r\n                  className={`relative flex items-center p-4 rounded-xl border ${\r\n                    selectedPaymentMethod === method.id\r\n                      ? 'border-blue-400 bg-blue-400/10'\r\n                      : 'border-gray-600 hover:border-gray-500'\r\n                  } ${\r\n                    method.available ? 'cursor-pointer' : 'opacity-50 cursor-not-allowed'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center flex-1\">\r\n                    <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                      selectedPaymentMethod === method.id\r\n                        ? 'bg-blue-400/20 text-blue-400'\r\n                        : 'bg-gray-700 text-gray-400'\r\n                    }`}>\r\n                      {method.icon}\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <p className=\"text-white font-medium\">{method.name}</p>\r\n                      <p className=\"text-sm text-gray-400\">{method.description}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"ml-4\">\r\n                    <div className={`w-6 h-6 rounded-full border-2 ${\r\n                      selectedPaymentMethod === method.id\r\n                        ? 'border-blue-400'\r\n                        : 'border-gray-500'\r\n                    } flex items-center justify-center`}>\r\n                      {selectedPaymentMethod === method.id && (\r\n                        <div className=\"w-3 h-3 rounded-full bg-blue-400\" />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              <div className=\"mt-8\">\r\n                <div className=\"rounded-xl bg-gray-700/30 p-4 mb-6\">\r\n                  <div className=\"flex justify-between mb-2\">\r\n                    <span className=\"text-gray-300\">Subtotal</span>\r\n                    <span className=\"text-white\">{state.totalPrice.toFixed(2)} TND</span>\r\n                  </div>\r\n                  {selectedPaymentMethod === 'cash_on_delivery' && (\r\n                    <div className=\"flex justify-between mb-2\">\r\n                      <span className=\"text-gray-300\">Delivery Fee</span>\r\n                      <span className=\"text-white\">5.00 TND</span>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex justify-between text-lg font-semibold\">\r\n                    <span className=\"text-gray-300\">Total</span>\r\n                    <span className=\"text-white\">\r\n                      {(selectedPaymentMethod === 'cash_on_delivery' \r\n                        ? state.totalPrice + 5 \r\n                        : state.totalPrice\r\n                      ).toFixed(2)} TND\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex justify-between\">\r\n                  <Button\r\n                    onClick={() => setCurrentStep(1)}\r\n                    className=\"bg-gray-700 text-gray-300 hover:bg-gray-600\"\r\n                  >\r\n                    Back to Shipping\r\n                  </Button>\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      if (e) e.preventDefault();\r\n                      handlePaymentSubmit(new Event('submit') as unknown as React.FormEvent);\r\n                    }}\r\n                    disabled={!selectedPaymentMethod || isProcessing}\r\n                    className={`bg-gradient-to-r from-blue-600 to-purple-600 text-white ${\r\n                      !selectedPaymentMethod || isProcessing\r\n                        ? 'opacity-50 cursor-not-allowed'\r\n                        : 'hover:from-blue-700 hover:to-purple-700'\r\n                    }`}\r\n                  >\r\n                    {isProcessing ? (\r\n                      <>\r\n                        <Loader2 className=\"animate-spin -ml-1 mr-2 h-5 w-5\" />\r\n                        Processing...\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Lock className=\"inline h-5 w-5 mr-2\" />\r\n                        Pay {(selectedPaymentMethod === 'cash_on_delivery' \r\n                          ? state.totalPrice + 5 \r\n                          : state.totalPrice\r\n                        ).toFixed(2)} TND\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Order summary for larger screens */}\r\n        <div className=\"hidden lg:block fixed top-24 right-8 w-80\">\r\n          <div className=\"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl border border-gray-700\">\r\n            <h3 className=\"text-xl font-semibold text-white mb-4\">Order Summary</h3>\r\n            <div className=\"space-y-4\">\r\n              {state.items.map((item) => (\r\n                <div key={item.id} className=\"flex items-center space-x-4\">\r\n                  <div className=\"h-16 w-16 flex-shrink-0\">\r\n                    <img\r\n                      src={item.image}\r\n                      alt={item.name}\r\n                      className=\"h-full w-full object-cover rounded-lg\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <h4 className=\"text-sm font-medium text-white\">{item.name}</h4>\r\n                    <p className=\"text-sm text-gray-400\">\r\n                      Qty: {item.quantity} × {item.price.toFixed(2)} TND\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"text-sm font-medium text-white\">\r\n                    {(item.quantity * item.price).toFixed(2)} TND\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutPage;\r\n","import React, { forwardRef } from 'react';\r\nimport { InputProps } from '../../data/types';\r\n\r\nconst Input = forwardRef<HTMLInputElement, InputProps>(({\r\n  label,\r\n  placeholder,\r\n  type = 'text',\r\n  value,\r\n  onChange,\r\n  error,\r\n  disabled = false,\r\n  required = false,\r\n  className = '',\r\n  ...props\r\n}, ref) => {\r\n  const inputClasses = `\r\n    w-full px-4 py-3 rounded-xl bg-white dark:bg-gray-800 \r\n    border-2 transition-all duration-300\r\n    ${error\r\n      ? 'border-red-500 focus:border-red-500 focus:ring-red-500'\r\n      : 'border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-400'\r\n    }\r\n    focus:ring-2 focus:ring-opacity-50 outline-none\r\n    text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500\r\n    ${disabled ? 'bg-gray-100 dark:bg-gray-900 cursor-not-allowed' : 'hover:border-gray-300 dark:hover:border-gray-600'}\r\n    ${className}\r\n  `;\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      {label && (\r\n        <label className=\"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n          {label}\r\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\r\n        </label>\r\n      )}\r\n      <div className=\"relative\">\r\n        <input\r\n          ref={ref}\r\n          type={type}\r\n          placeholder={placeholder}\r\n          value={value}\r\n          onChange={onChange}\r\n          disabled={disabled}\r\n          required={required}\r\n          className={inputClasses}\r\n          {...props}\r\n        />\r\n        {error && (\r\n          <p className=\"mt-2 text-sm text-red-500 dark:text-red-400\">{error}</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nInput.displayName = 'Input';\r\n\r\nexport default Input;","import React, { useState } from 'react';\r\nimport { Mail, Phone, MapPin, Clock, Send } from 'lucide-react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { ContactForm } from '../../data/types';\r\nimport Button from '../../components/ui/Button';\r\nimport Input from '../../components/ui/Input';\r\n\r\nconst ContactPage: React.FC = () => {\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    reset,\r\n  } = useForm<ContactForm>();\r\n\r\n  const onSubmit = async (data: ContactForm) => {\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      const response = await fetch('http://localhost:3002/api/contact', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n      \r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        console.log('Contact form submitted successfully:', result);\r\n        setIsSubmitted(true);\r\n        reset();\r\n        \r\n        // Reset success message after 5 seconds\r\n        setTimeout(() => setIsSubmitted(false), 5000);\r\n      } else {\r\n        console.error('Contact form submission failed:', result.error);\r\n        alert(`Failed to send message: ${result.error}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Contact form error:', error);\r\n      alert('Failed to send message. Please check your connection and try again.');\r\n    }\r\n    \r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-black\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-16\">\r\n          <h1 className=\"text-4xl font-bold text-gray-900 dark:text-white mb-4\">Contact Us</h1>\r\n          <p className=\"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto\">\r\n            We'd love to hear from you. Send us a message and we'll respond as soon as possible.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\r\n          {/* Contact Information */}\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-6\">Get in Touch</h2>\r\n            <p className=\"text-gray-600 dark:text-gray-300 mb-8\">\r\n              Have a question about our products or need help with your order? \r\n              We're here to help! Reach out to us using any of the methods below.\r\n            </p>\r\n\r\n            <div className=\"space-y-6\">\r\n              <div className=\"flex items-start space-x-4\">\r\n                <div className=\"bg-blue-100 dark:bg-blue-900 rounded-lg p-3\">\r\n                  <MapPin className=\"h-6 w-6 text-blue-600 dark:text-blue-300\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1\">Address</h3>\r\n                  <p className=\"text-gray-600 dark:text-gray-300\">\r\n                    darna\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start space-x-4\">\r\n                <div className=\"bg-blue-100 dark:bg-blue-900 rounded-lg p-3\">\r\n                  <Phone className=\"h-6 w-6 text-blue-600 dark:text-blue-300\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1\">Phone</h3>\r\n                  <p className=\"text-gray-600 dark:text-gray-300\">+21628687562</p>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">Mon-Fri 9am-6pm EST</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start space-x-4\">\r\n                <div className=\"bg-blue-100 dark:bg-blue-900 rounded-lg p-3\">\r\n                  <Mail className=\"h-6 w-6 text-blue-600 dark:text-blue-300\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1\">Email</h3>\r\n                  <p className=\"text-gray-600 dark:text-gray-300\">support@miniu.com</p>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">We'll respond within 24 hours</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start space-x-4\">\r\n                <div className=\"bg-blue-100 dark:bg-blue-900 rounded-lg p-3\">\r\n                  <Clock className=\"h-6 w-6 text-blue-600 dark:text-blue-300\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1\">Business Hours</h3>\r\n                  <div className=\"text-gray-600 dark:text-gray-300 space-y-1\">\r\n                    <p>Monday - Friday: 9:00 AM - 6:00 PM</p>\r\n                    <p>Saturday: 10:00 AM - 4:00 PM</p>\r\n                    <p>Sunday: Closed</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Contact Form */}\r\n          <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-sm p-8 border border-gray-200 dark:border-gray-700\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-6\">Send us a Message</h2>\r\n            \r\n            {isSubmitted && (\r\n              <div className=\"mb-6 p-4 bg-green-50 dark:bg-green-900 border border-green-200 dark:border-green-700 rounded-md\">\r\n                <p className=\"text-green-800 dark:text-green-200\">\r\n                  Thank you for your message! We'll get back to you soon.\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n              <div>\r\n                <Input\r\n                  label=\"Name\"\r\n                  placeholder=\"Your full name\"\r\n                  {...register('name', { required: 'Name is required' })}\r\n                  error={errors.name?.message}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Input\r\n                  label=\"Email\"\r\n                  type=\"email\"\r\n                  placeholder=\"your.email@example.com\"\r\n                  {...register('email', {\r\n                    required: 'Email is required',\r\n                    pattern: {\r\n                      value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\r\n                      message: 'Please enter a valid email address',\r\n                    },\r\n                  })}\r\n                  error={errors.email?.message}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Input\r\n                  label=\"Subject\"\r\n                  placeholder=\"What is this regarding?\"\r\n                  {...register('subject', { required: 'Subject is required' })}\r\n                  error={errors.subject?.message}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                  Message <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <textarea\r\n                  rows={6}\r\n                  placeholder=\"Tell us how we can help you...\"\r\n                  {...register('message', { required: 'Message is required' })}\r\n                  className={`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 resize-none ${\r\n                    errors.message ? 'border-red-500 focus:ring-red-500 dark:focus:ring-red-400' : ''\r\n                  }`}\r\n                />\r\n                {errors.message && (\r\n                  <p className=\"mt-1 text-sm text-red-600 dark:text-red-400\">{errors.message.message}</p>\r\n                )}\r\n              </div>\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                size=\"lg\"\r\n                className=\"w-full bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-600 dark:text-white dark:hover:bg-blue-700\"\r\n                disabled={isSubmitting}\r\n              >\r\n                <Send className=\"h-5 w-5 mr-2\" />\r\n                {isSubmitting ? 'Sending...' : 'Send Message'}\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        {/* FAQ Section */}\r\n        <div className=\"mt-16\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-8 text-center\">\r\n            Frequently Asked Questions\r\n          </h2>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n            <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                How long does shipping take?\r\n              </h3>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                Standard shipping takes 3-5 business days. Express shipping is available \r\n                for 1-2 business days delivery.\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                What is your return policy?\r\n              </h3>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                We offer a 30-day return policy for all items in original condition. \r\n                Return shipping is free for defective items.\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                Do you offer international shipping?\r\n              </h3>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                Yes, we ship to most countries worldwide. International shipping \r\n                costs and delivery times vary by location.\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">\r\n                How can I track my order?\r\n              </h3>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                Once your order ships, you'll receive a tracking number via email. \r\n                You can also track orders in your account dashboard.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactPage;","import React from 'react';\r\nimport { Award, Users, Globe, Heart } from 'lucide-react';\r\n\r\nconst AboutPage: React.FC = () => {\r\n  return (\r\n    <div className=\"min-h-screen bg-white dark:bg-black\">\r\n      {/* Hero Section */}\r\n      <section className=\"bg-gray-50 dark:bg-gray-900 py-16\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\r\n          <h1 className=\"text-4xl font-bold text-gray-900 dark:text-white mb-6\">About MiniU</h1>\r\n          <p className=\"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto\">\r\n            We're passionate about bringing you the best products at unbeatable prices, \r\n            with exceptional customer service that makes shopping a pleasure.\r\n          </p>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Story Section */}\r\n      <section className=\"py-16\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\r\n            <div>\r\n              <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-6\">Our Story</h2>\r\n              <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\r\n                Founded in 2024, MiniU started as a modern e-commerce platform with a vision: \r\n                to provide a minimalist, user-friendly shopping experience that focuses on quality over quantity. \r\n                We specialize in carefully curated products that enhance everyday life.\r\n              </p>\r\n              <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\r\n                At MiniU, we believe in the power of simplicity. Our \"mini\" approach means we focus on \r\n                essential, high-quality items rather than overwhelming our customers with endless choices. \r\n                Every product in our catalog is hand-picked for its quality, design, and value.\r\n              </p>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                We're committed to creating a seamless shopping experience where customers can quickly \r\n                find exactly what they need. Our mission is to prove that less can indeed be more when \r\n                it comes to online shopping.\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <img\r\n                src=\"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=600&h=400&fit=crop\"\r\n                alt=\"Our team\"\r\n                className=\"rounded-lg shadow-lg\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Values Section */}\r\n      <section className=\"py-16 bg-gray-50 dark:bg-gray-900\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"text-center mb-12\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-4\">Our Values</h2>\r\n            <p className=\"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto\">\r\n              These core values guide everything we do and shape the experience we create for our customers.\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n            <div className=\"text-center\">\r\n              <div className=\"bg-blue-100 dark:bg-blue-900 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n                <Award className=\"h-8 w-8 text-blue-600 dark:text-blue-300\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Quality First</h3>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                We never compromise on quality. Every product is carefully selected and tested.\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"text-center\">\r\n              <div className=\"bg-blue-100 dark:bg-blue-900 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n                <Users className=\"h-8 w-8 text-blue-600 dark:text-blue-300\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Customer Focus</h3>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                Our customers are at the heart of everything we do. Your satisfaction is our priority.\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"text-center\">\r\n              <div className=\"bg-blue-100 dark:bg-blue-900 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n                <Globe className=\"h-8 w-8 text-blue-600 dark:text-blue-300\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Sustainability</h3>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                We're committed to sustainable practices and supporting eco-friendly products.\r\n              </p>\r\n            </div>\r\n            \r\n            <div className=\"text-center\">\r\n              <div className=\"bg-blue-100 dark:bg-blue-900 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4\">\r\n                <Heart className=\"h-8 w-8 text-blue-600 dark:text-blue-300\" />\r\n              </div>\r\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">Community</h3>\r\n              <p className=\"text-gray-600 dark:text-gray-300\">\r\n                We believe in giving back and supporting the communities where we operate.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AboutPage;","import React, { useState } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Eye, EyeOff, LogIn } from 'lucide-react';\r\nimport { LoginForm } from '../../data/types';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport Button from '../../components/ui/Button';\r\nimport Input from '../../components/ui/Input';\r\n\r\nconst LoginPage: React.FC = () => {\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  \r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  \r\n  const from = location.state?.from?.pathname || '/';\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<LoginForm>();\r\n\r\n  const onSubmit = async (data: LoginForm) => {\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const result = await login(data);\r\n      \r\n      if (result.success) {\r\n        navigate(from, { replace: true });\r\n      } else {\r\n        setError(result.error || 'Login failed');\r\n      }\r\n    } catch (err) {\r\n      setError('An unexpected error occurred');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"text-center\">\r\n          <LogIn className=\"mx-auto h-12 w-12 text-blue-600\" />\r\n          <h2 className=\"mt-6 text-3xl font-bold text-gray-900\">\r\n            Sign in to your account\r\n          </h2>\r\n          <p className=\"mt-2 text-sm text-gray-600\">\r\n            Or{' '}\r\n            <Link\r\n              to=\"/signup\"\r\n              className=\"font-medium text-blue-600 hover:text-blue-500\"\r\n            >\r\n              create a new account\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n          {error && (\r\n            <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md\">\r\n              <p className=\"text-sm text-red-800\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\r\n            <div>\r\n              <Input\r\n                label=\"Email address\"\r\n                type=\"email\"\r\n                placeholder=\"Enter your email\"\r\n                {...register('email', {\r\n                  required: 'Email is required',\r\n                  pattern: {\r\n                    value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\r\n                    message: 'Please enter a valid email address',\r\n                  },\r\n                })}\r\n                error={errors.email?.message}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"relative\">\r\n                <Input\r\n                  label=\"Password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  placeholder=\"Enter your password\"\r\n                  {...register('password', {\r\n                    required: 'Password is required',\r\n                    minLength: {\r\n                      value: 6,\r\n                      message: 'Password must be at least 6 characters',\r\n                    },\r\n                  })}\r\n                  error={errors.password?.message}\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"absolute right-3 top-8 text-gray-400 hover:text-gray-600\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                >\r\n                  {showPassword ? (\r\n                    <EyeOff className=\"h-5 w-5\" />\r\n                  ) : (\r\n                    <Eye className=\"h-5 w-5\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center\">\r\n                <input\r\n                  id=\"remember-me\"\r\n                  name=\"remember-me\"\r\n                  type=\"checkbox\"\r\n                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                />\r\n                <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\r\n                  Remember me\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"text-sm\">\r\n                <a\r\n                  href=\"#\"\r\n                  className=\"font-medium text-blue-600 hover:text-blue-500\"\r\n                >\r\n                  Forgot your password?\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Button\r\n                type=\"submit\"\r\n                size=\"lg\"\r\n                className=\"w-full\"\r\n                loading={isLoading}\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? 'Signing in...' : 'Sign in'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"mt-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 flex items-center\">\r\n                <div className=\"w-full border-t border-gray-300\" />\r\n              </div>\r\n              <div className=\"relative flex justify-center text-sm\">\r\n                <span className=\"px-2 bg-white text-gray-500\">Demo Accounts</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-6 space-y-3\">\r\n              <div className=\"bg-gray-50 p-4 rounded-md\">\r\n                <p className=\"text-sm font-medium text-gray-900 mb-2\">Test Accounts:</p>\r\n                <div className=\"space-y-1 text-sm text-gray-600\">\r\n                  <p><strong>Admin:</strong> admin@miniu.com (any password)</p>\r\n                  <p><strong>User:</strong> john.doe@example.com (any password)</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;","import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Eye, EyeOff, UserPlus } from 'lucide-react';\r\nimport { SignupForm } from '../../data/types';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { isValidEmail, isValidPassword } from '../../utils/helpers';\r\nimport Button from '../../components/ui/Button';\r\nimport Input from '../../components/ui/Input';\r\n\r\nconst SignupPage: React.FC = () => {\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  \r\n  const { signup } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm<SignupForm>();\r\n\r\n  const password = watch('password');\r\n\r\n  const onSubmit = async (data: SignupForm) => {\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const result = await signup(data);\r\n      \r\n      if (result.success) {\r\n        navigate('/');\r\n      } else {\r\n        setError(result.error || 'Signup failed');\r\n      }\r\n    } catch (err) {\r\n      setError('An unexpected error occurred');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"text-center\">\r\n          <UserPlus className=\"mx-auto h-12 w-12 text-blue-600\" />\r\n          <h2 className=\"mt-6 text-3xl font-bold text-gray-900\">\r\n            Create your account\r\n          </h2>\r\n          <p className=\"mt-2 text-sm text-gray-600\">\r\n            Or{' '}\r\n            <Link\r\n              to=\"/login\"\r\n              className=\"font-medium text-blue-600 hover:text-blue-500\"\r\n            >\r\n              sign in to your existing account\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n          {error && (\r\n            <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md\">\r\n              <p className=\"text-sm text-red-800\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          <form className=\"space-y-6\" onSubmit={handleSubmit(onSubmit)}>\r\n            <div>\r\n              <Input\r\n                label=\"Full Name\"\r\n                type=\"text\"\r\n                placeholder=\"Enter your full name\"\r\n                {...register('name', {\r\n                  required: 'Name is required',\r\n                  minLength: {\r\n                    value: 2,\r\n                    message: 'Name must be at least 2 characters',\r\n                  },\r\n                })}\r\n                error={errors.name?.message}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Input\r\n                label=\"Email address\"\r\n                type=\"email\"\r\n                placeholder=\"Enter your email\"\r\n                {...register('email', {\r\n                  required: 'Email is required',\r\n                  validate: (value) =>\r\n                    isValidEmail(value) || 'Please enter a valid email address',\r\n                })}\r\n                error={errors.email?.message}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"relative\">\r\n                <Input\r\n                  label=\"Password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  placeholder=\"Create a password\"\r\n                  {...register('password', {\r\n                    required: 'Password is required',\r\n                    validate: (value) =>\r\n                      isValidPassword(value) ||\r\n                      'Password must be at least 8 characters with uppercase, lowercase, and number',\r\n                  })}\r\n                  error={errors.password?.message}\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"absolute right-3 top-8 text-gray-400 hover:text-gray-600\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                >\r\n                  {showPassword ? (\r\n                    <EyeOff className=\"h-5 w-5\" />\r\n                  ) : (\r\n                    <Eye className=\"h-5 w-5\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"relative\">\r\n                <Input\r\n                  label=\"Confirm Password\"\r\n                  type={showConfirmPassword ? 'text' : 'password'}\r\n                  placeholder=\"Confirm your password\"\r\n                  {...register('confirmPassword', {\r\n                    required: 'Please confirm your password',\r\n                    validate: (value) =>\r\n                      value === password || 'Passwords do not match',\r\n                  })}\r\n                  error={errors.confirmPassword?.message}\r\n                  required\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"absolute right-3 top-8 text-gray-400 hover:text-gray-600\"\r\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                >\r\n                  {showConfirmPassword ? (\r\n                    <EyeOff className=\"h-5 w-5\" />\r\n                  ) : (\r\n                    <Eye className=\"h-5 w-5\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center\">\r\n              <input\r\n                id=\"agree-terms\"\r\n                name=\"agree-terms\"\r\n                type=\"checkbox\"\r\n                required\r\n                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n              />\r\n              <label htmlFor=\"agree-terms\" className=\"ml-2 block text-sm text-gray-900\">\r\n                I agree to the{' '}\r\n                <a href=\"#\" className=\"text-blue-600 hover:text-blue-500\">\r\n                  Terms of Service\r\n                </a>{' '}\r\n                and{' '}\r\n                <a href=\"#\" className=\"text-blue-600 hover:text-blue-500\">\r\n                  Privacy Policy\r\n                </a>\r\n              </label>\r\n            </div>\r\n\r\n            <div>\r\n              <Button\r\n                type=\"submit\"\r\n                size=\"lg\"\r\n                className=\"w-full\"\r\n                loading={isLoading}\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? 'Creating account...' : 'Create account'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n\r\n          <div className=\"mt-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 flex items-center\">\r\n                <div className=\"w-full border-t border-gray-300\" />\r\n              </div>\r\n              <div className=\"relative flex justify-center text-sm\">\r\n                <span className=\"px-2 bg-white text-gray-500\">Password Requirements</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4 bg-gray-50 p-4 rounded-md\">\r\n              <p className=\"text-sm font-medium text-gray-900 mb-2\">Your password must contain:</p>\r\n              <ul className=\"space-y-1 text-sm text-gray-600\">\r\n                <li className=\"flex items-center\">\r\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full mr-2\"></span>\r\n                  At least 8 characters\r\n                </li>\r\n                <li className=\"flex items-center\">\r\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full mr-2\"></span>\r\n                  One uppercase letter\r\n                </li>\r\n                <li className=\"flex items-center\">\r\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full mr-2\"></span>\r\n                  One lowercase letter\r\n                </li>\r\n                <li className=\"flex items-center\">\r\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full mr-2\"></span>\r\n                  One number\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupPage;","import React, { useState, useEffect } from 'react';\nimport { Routes, Route, Link, useLocation } from 'react-router-dom';\nimport {\n  LayoutDashboard,\n  Package,\n  ShoppingCart,\n  Users,\n  BarChart3,\n  Menu,\n  X,\n  Plus,\n  Edit,\n  Trash2,\n  Save\n} from 'lucide-react';\n\n// Type definitions\ninterface Product {\n  id: number;\n  name: string;\n  description: string;\n  price: number;\n  category: string;\n  image: string;\n  stockQuantity: number;\n  created_at: string;\n}\n\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n  role: string;\n  created_at: string;\n}\n\ninterface Order {\n  id: number;\n  customer_email: string;\n  total: number;\n  status: string;\n  payment_method: string;\n  created_at: string;\n}\n// Dashboard components\nconst DashboardOverview = () => {\n  const [sending, setSending] = useState(false);\n  const [productName, setProductName] = useState('');\n  const [productUrl, setProductUrl] = useState('');\n  const [result, setResult] = useState<string | null>(null);\n  \n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-2xl font-bold text-white mb-4\">MiniU Admin Dashboard</h1>\n      <div className=\"bg-gray-800/80 backdrop-blur-sm p-6 rounded-lg shadow-sm border border-gray-700\">\n        <h2 className=\"text-lg font-semibold text-white mb-4\">Welcome to MiniU Admin Panel</h2>\n        <p className=\"text-gray-400 mb-4\">Manage your products, orders, and users from this dashboard.</p>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"p-4 border rounded-lg\">\n            <h3 className=\"font-medium text-gray-900\">Products</h3>\n            <p className=\"text-sm text-gray-600\">Add, edit, and manage your product catalog</p>\n          </div>\n          <div className=\"p-4 border rounded-lg\">\n            <h3 className=\"font-medium text-gray-900\">Orders</h3>\n            <p className=\"text-sm text-gray-600\">View and manage customer orders</p>\n          </div>\n          <div className=\"p-4 border rounded-lg\">\n            <h3 className=\"font-medium text-gray-900\">Users</h3>\n            <p className=\"text-sm text-gray-600\">Manage user accounts and permissions</p>\n          </div>\n        </div>\n        <div className=\"mt-8 border-t pt-6\">\n          <h3 className=\"font-medium text-gray-900 mb-2\">Send Product Drop Newsletter</h3>\n          <div className=\"flex flex-col sm:flex-row gap-4 mb-2\">\n            <input\n              type=\"text\"\n              placeholder=\"Product Name\"\n              value={productName}\n              onChange={e => setProductName(e.target.value)}\n              className=\"border px-3 py-2 rounded-md flex-1\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Product URL\"\n              value={productUrl}\n              onChange={e => setProductUrl(e.target.value)}\n              className=\"border px-3 py-2 rounded-md flex-1\"\n            />\n            <button\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-md\"\n              disabled={sending || !productName || !productUrl}\n              onClick={async () => {\n                setSending(true);\n                setResult(null);\n                try {\n                  const res = await fetch('http://localhost:3002/api/newsletter/send', {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify({ productName, productUrl })\n                  });\n                  const data = await res.json();\n                  if (data.success) {\n                    setResult(`Sent to ${data.sent} subscribers. Failed: ${data.failed}`);\n                  } else {\n                    setResult(data.error || 'Failed to send.');\n                  }\n                } catch (err) {\n                  setResult('Network error.');\n                }\n                setSending(false);\n              }}\n            >\n              {sending ? 'Sending...' : 'Send Newsletter'}\n            </button>\n          </div>\n          {result && <div className=\"text-sm mt-2 text-gray-700\">{result}</div>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ProductsManager = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [showEditForm, setShowEditForm] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [newProduct, setNewProduct] = useState({\n    name: '',\n    description: '',\n    price: '',\n    category: '',\n    stockQuantity: ''\n  });\n  const [selectedImage, setSelectedImage] = useState<File | null>(null);\n  const [imagePreview, setImagePreview] = useState<string>('');\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch('http://localhost:3002/api/products');\n      if (response.ok) {\n        const data = await response.json();\n        setProducts(data);\n      }\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    }\n  };\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setSelectedImage(file);\n      // Create preview URL\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleAddProduct = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const formData = new FormData();\n      formData.append('name', newProduct.name);\n      formData.append('description', newProduct.description);\n      formData.append('price', newProduct.price);\n      formData.append('category', newProduct.category);\n      formData.append('stockQuantity', newProduct.stockQuantity);\n      \n      if (selectedImage) {\n        formData.append('image', selectedImage);\n      }\n      \n      const response = await fetch('http://localhost:3002/api/admin/products', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        },\n        body: formData\n      });\n      \n      if (response.ok) {\n        const result = await response.json();\n        console.log('Product added successfully:', result);\n        setNewProduct({ name: '', description: '', price: '', category: '', stockQuantity: '' });\n        setSelectedImage(null);\n        setImagePreview('');\n        setShowAddForm(false);\n        fetchProducts();\n        alert('Product added successfully!');\n      } else {\n        const errorData = await response.json();\n        console.error('Failed to add product:', errorData);\n        alert(`Failed to add product: ${errorData.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Error adding product:', error);\n      alert('Error adding product. Please check your connection and try again.');\n    }\n  };\n\n  const handleDeleteProduct = async (productId: number) => {\n    if (window.confirm('Are you sure you want to delete this product?')) {\n      try {\n        const response = await fetch(`http://localhost:3002/api/admin/products/${productId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n          }\n        });\n        \n        if (response.ok) {\n          fetchProducts();\n          alert('Product deleted successfully!');\n        }\n      } catch (error) {\n        console.error('Error deleting product:', error);\n        alert('Error deleting product. Please try again.');\n      }\n    }\n  };\n\n  const handleEditProduct = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!editingProduct) return;\n\n    try {\n      const formData = new FormData();\n      formData.append('name', editingProduct.name);\n      formData.append('description', editingProduct.description);\n      formData.append('price', editingProduct.price.toString());\n      formData.append('category', editingProduct.category);\n      formData.append('stockQuantity', editingProduct.stockQuantity.toString());\n      \n      if (selectedImage) {\n        formData.append('image', selectedImage);\n      }\n      \n      const response = await fetch(`http://localhost:3002/api/admin/products/${editingProduct.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        },\n        body: formData\n      });\n      \n      if (response.ok) {\n        setShowEditForm(false);\n        setEditingProduct(null);\n        fetchProducts();\n        alert('Product updated successfully!');\n      } else {\n        const errorData = await response.json();\n        alert(`Failed to update product: ${errorData.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('Error updating product:', error);\n      alert('Error updating product. Please check your connection and try again.');\n    }\n  };\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold text-white\">Products Management</h1>\n        <button\n          onClick={() => setShowAddForm(true)}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center gap-2\"\n        >\n          <Plus className=\"h-4 w-4\" />\n          Add Product\n        </button>\n      </div>\n\n      {showEditForm && editingProduct && (\n        <div className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border mb-6\">\n          <h2 className=\"text-lg font-semibold mb-4\">Edit Product</h2>\n          <form onSubmit={handleEditProduct} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Product Name\"\n              value={editingProduct.name}\n              onChange={(e) => setEditingProduct({ ...editingProduct, name: e.target.value })}\n              className=\"border rounded-md px-3 py-2 dark:bg-gray-700 dark:border-gray-600\"\n              required\n            />\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              placeholder=\"Price\"\n              value={editingProduct.price}\n              onChange={(e) => setEditingProduct({ ...editingProduct, price: parseFloat(e.target.value) })}\n              className=\"border rounded-md px-3 py-2 dark:bg-gray-700 dark:border-gray-600\"\n              required\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Category\"\n              value={editingProduct.category}\n              onChange={(e) => setEditingProduct({ ...editingProduct, category: e.target.value })}\n              className=\"border rounded-md px-3 py-2 dark:bg-gray-700 dark:border-gray-600\"\n              required\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Stock Quantity\"\n              value={editingProduct.stockQuantity}\n              onChange={(e) => setEditingProduct({ ...editingProduct, stockQuantity: parseInt(e.target.value) })}\n              className=\"border rounded-md px-3 py-2 dark:bg-gray-700 dark:border-gray-600\"\n              required\n            />\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Product Image\n              </label>\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n                className=\"border rounded-md px-3 py-2 w-full dark:bg-gray-700 dark:border-gray-600\"\n              />\n              {imagePreview ? (\n                <div className=\"mt-2\">\n                  <img\n                    src={imagePreview}\n                    alt=\"Preview\"\n                    className=\"h-20 w-20 object-cover rounded-md\"\n                  />\n                </div>\n              ) : editingProduct.image && (\n                <div className=\"mt-2\">\n                  <img\n                    src={editingProduct.image?.startsWith('http') ? editingProduct.image : `http://localhost:3002${editingProduct.image}`}\n                    alt=\"Current\"\n                    className=\"h-20 w-20 object-cover rounded-md\"\n                  />\n                </div>\n              )}\n            </div>\n            <textarea\n              placeholder=\"Description\"\n              value={editingProduct.description}\n              onChange={(e) => setEditingProduct({ ...editingProduct, description: e.target.value })}\n              className=\"border rounded-md px-3 py-2 md:col-span-2 h-24 dark:bg-gray-700 dark:border-gray-600\"\n              required\n            />\n            <div className=\"md:col-span-2 flex gap-2\">\n              <button\n                type=\"submit\"\n                className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center gap-2\"\n              >\n                <Save className=\"h-4 w-4\" />\n                Update Product\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setShowEditForm(false);\n                  setEditingProduct(null);\n                }}\n                className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 flex items-center gap-2\"\n              >\n                <X className=\"h-4 w-4\" />\n                Cancel\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {showAddForm && (\n        <div className=\"bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-700 mb-6\">\n          <h2 className=\"text-lg font-semibold text-white mb-4\">Add New Product</h2>\n          <form onSubmit={handleAddProduct} className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Product Name\"\n              value={newProduct.name}\n              onChange={(e) => setNewProduct({ ...newProduct, name: e.target.value })}\n              className=\"border border-gray-600 bg-gray-700 text-white px-3 py-2 rounded-md placeholder-gray-400\"\n              required\n            />\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              placeholder=\"Price\"\n              value={newProduct.price}\n              onChange={(e) => setNewProduct({ ...newProduct, price: e.target.value })}\n              className=\"border rounded-md px-3 py-2\"\n              required\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Category\"\n              value={newProduct.category}\n              onChange={(e) => setNewProduct({ ...newProduct, category: e.target.value })}\n              className=\"border rounded-md px-3 py-2\"\n              required\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Stock Quantity\"\n              value={newProduct.stockQuantity}\n              onChange={(e) => setNewProduct({ ...newProduct, stockQuantity: e.target.value })}\n              className=\"border rounded-md px-3 py-2\"\n              required\n            />\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Product Image\n              </label>\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n                className=\"border rounded-md px-3 py-2 w-full\"\n                required\n              />\n              {imagePreview && (\n                <div className=\"mt-2\">\n                  <img\n                    src={imagePreview}\n                    alt=\"Preview\"\n                    className=\"h-20 w-20 object-cover rounded-md\"\n                  />\n                </div>\n              )}\n            </div>\n            <textarea\n              placeholder=\"Description\"\n              value={newProduct.description}\n              onChange={(e) => setNewProduct({ ...newProduct, description: e.target.value })}\n              className=\"border rounded-md px-3 py-2 md:col-span-2 h-24\"\n              required\n            />\n            <div className=\"md:col-span-2 flex gap-2\">\n              <button\n                type=\"submit\"\n                className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center gap-2\"\n              >\n                <Save className=\"h-4 w-4\" />\n                Save Product\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setShowAddForm(false)}\n                className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 flex items-center gap-2\"\n              >\n                <X className=\"h-4 w-4\" />\n                Cancel\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      <div className=\"bg-white rounded-lg shadow-sm border\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Product</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Category</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Price</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Stock</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n              {products.map((product) => (\n                <tr key={product.id}>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-center\">\n                      <img \n                        className=\"h-10 w-10 rounded-md object-cover\" \n                        src={product.image?.startsWith('http') ? product.image : `http://localhost:3002${product.image}`} \n                        alt={product.name} \n                      />\n                      <div className=\"ml-4\">\n                        <div className=\"text-sm font-medium text-white\">{product.name}</div>\n                        <div className=\"text-sm text-gray-400\">{product.description?.substring(0, 50)}...</div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{product.category}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">${product.price}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{product.stockQuantity}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                    <div className=\"flex gap-2\">\n                      <button \n                        onClick={() => {\n                          setEditingProduct(product);\n                          setShowEditForm(true);\n                        }}\n                        className=\"text-indigo-600 hover:text-indigo-900\"\n                      >\n                        <Edit className=\"h-4 w-4\" />\n                      </button>\n                      <button \n                        onClick={() => handleDeleteProduct(product.id)}\n                        className=\"text-red-600 hover:text-red-900\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst OrdersManager = () => {\n  const [orders, setOrders] = useState<Order[]>([]);\n  \n  // Add dark mode styles\n  const tableStyles = {\n    container: \"bg-gray-800 rounded-lg shadow-sm border border-gray-700\",\n    header: \"bg-gray-900\",\n    headerText: \"text-gray-400\",\n    row: \"bg-gray-800 border-gray-700\",\n    cell: \"text-gray-300\",\n  };\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = async () => {\n    try {\n      const response = await fetch('http://localhost:3002/api/admin/orders', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setOrders(data);\n      }\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n    }\n  };\n\n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-2xl font-bold text-white mb-4\">Orders Management</h1>\n      <div className=\"bg-gray-800 rounded-lg shadow-sm border border-gray-700\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-700\">\n            <thead className=\"bg-gray-900\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Order ID</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Customer</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Total</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Status</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Date</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n              {orders.map((order) => (\n                <tr key={order.id}>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-300\">#{order.id}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{order.customer_email}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">${order.total}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                      order.status === 'completed' ? 'bg-green-100 text-green-800' :\n                      order.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\n                      'bg-red-100 text-red-800'\n                    }`}>\n                      {order.status}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {new Date(order.created_at).toLocaleDateString()}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst UsersManager = () => {\n  const [users, setUsers] = useState<User[]>([]);\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      const response = await fetch('http://localhost:3002/api/admin/users', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setUsers(data);\n      }\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    }\n  };\n\n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-2xl font-bold text-white mb-4\">Users Management</h1>\n      <div className=\"bg-gray-800 rounded-lg shadow-sm border border-gray-700\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-700\">\n            <thead className=\"bg-gray-900\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">User</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Email</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Role</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">Joined</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-gray-800 divide-y divide-gray-700\">\n              {users.map((user) => (\n                <tr key={user.id}>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-300\">{user.name}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{user.email}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                      user.role === 'admin' ? 'bg-purple-100 text-purple-800' : 'bg-blue-100 text-blue-800'\n                    }`}>\n                      {user.role}\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {new Date(user.created_at).toLocaleDateString()}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst StatsPage = () => (\n  <div className=\"p-6\">\n    <h1 className=\"text-2xl font-bold text-white mb-4\">Statistics</h1>\n    <p className=\"text-gray-400\">View detailed analytics and reports here.</p>\n  </div>\n);\n\nconst AdminDashboard: React.FC = () => {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const location = useLocation();\n\n  // Set dark mode by default\n  useEffect(() => {\n    document.documentElement.classList.add('dark');\n  }, []);\n\n  const navigation = [\n    { name: 'Dashboard', href: '/admin', icon: LayoutDashboard, current: location.pathname === '/admin' },\n    { name: 'Products', href: '/admin/products', icon: Package, current: location.pathname === '/admin/products' },\n    { name: 'Orders', href: '/admin/orders', icon: ShoppingCart, current: location.pathname === '/admin/orders' },\n    { name: 'Users', href: '/admin/users', icon: Users, current: location.pathname === '/admin/users' },\n    { name: 'Statistics', href: '/admin/stats', icon: BarChart3, current: location.pathname === '/admin/stats' },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white relative\">\n      <div className=\"flex relative z-0\">\n        {/* Mobile sidebar overlay */}\n        {sidebarOpen && (\n          <div className=\"fixed inset-0 z-40 lg:hidden\">\n            <div className=\"fixed inset-0 bg-gray-600 bg-opacity-75\" onClick={() => setSidebarOpen(false)} />\n          </div>\n        )}\n\n        {/* Sidebar */}\n        <div className={`fixed inset-y-0 left-0 z-50 w-64 bg-gray-800/90 backdrop-blur-sm shadow-lg transform ${\n          sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n        } transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0`}>\n          <div className=\"flex items-center justify-between h-16 px-6 border-b border-gray-700\">\n            <h2 className=\"text-xl font-bold text-white\">Admin Panel</h2>\n            <button\n              onClick={() => setSidebarOpen(false)}\n              className=\"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600\"\n            >\n              <X className=\"h-6 w-6\" />\n            </button>\n          </div>\n          \n          <nav className=\"mt-6 px-3\">\n            <div className=\"space-y-1\">\n              {navigation.map((item) => {\n                const Icon = item.icon;\n                return (\n                  <Link\n                    key={item.name}\n                    to={item.href}\n                    className={`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${\n                      item.current\n                        ? 'bg-blue-900 text-blue-200'\n                        : 'text-gray-300 hover:bg-gray-700 hover:text-white'\n                    }`}\n                    onClick={() => setSidebarOpen(false)}\n                  >\n                    <Icon className=\"mr-3 h-5 w-5\" />\n                    {item.name}\n                  </Link>\n                );\n              })}\n            </div>\n          </nav>\n        </div>\n\n        {/* Main content */}\n        <div className=\"flex-1 lg:ml-0\">\n          {/* Top bar */}\n          <div className=\"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 lg:hidden\">\n            <div className=\"flex items-center justify-between h-16 px-4\">\n              <button\n                onClick={() => setSidebarOpen(true)}\n                className=\"p-2 rounded-md text-gray-400 hover:text-gray-600\"\n              >\n                <Menu className=\"h-6 w-6\" />\n              </button>\n              <h1 className=\"text-lg font-semibold text-gray-900\">Admin Dashboard</h1>\n              <div></div>\n            </div>\n          </div>\n\n          {/* Page content */}\n          <main className=\"flex-1\">\n            <Routes>\n              <Route path=\"/\" element={<DashboardOverview />} />\n              <Route path=\"/products\" element={<ProductsManager />} />\n              <Route path=\"/orders\" element={<OrdersManager />} />\n              <Route path=\"/users\" element={<UsersManager />} />\n              <Route path=\"/stats\" element={<StatsPage />} />\n            </Routes>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;","import React, { useEffect } from 'react';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { CheckCircle } from 'lucide-react';\r\n\r\nconst CheckoutSuccess: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const paymentId = searchParams.get('payment_id');\r\n  const orderId = searchParams.get('order_id');\r\n\r\n  useEffect(() => {\r\n    // Verify payment with your backend\r\n    const verifyPayment = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:3002/api/payment/flouci/verify', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            payment_id: paymentId,\r\n            order_id: orderId\r\n          })\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error('Payment verification failed');\r\n        }\r\n\r\n        // Payment verified successfully\r\n        // You might want to update order status here\r\n      } catch (error) {\r\n        console.error('Payment verification error:', error);\r\n        navigate('/checkout/failure');\r\n      }\r\n    };\r\n\r\n    if (paymentId && orderId) {\r\n      verifyPayment();\r\n    }\r\n  }, [paymentId, orderId, navigate]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8 text-center\">\r\n        <div className=\"bg-green-500/10 p-4 rounded-full inline-block\">\r\n          <CheckCircle className=\"mx-auto h-16 w-16 text-green-500\" />\r\n        </div>\r\n        <h2 className=\"mt-6 text-3xl font-extrabold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\r\n          Payment Successful!\r\n        </h2>\r\n        <p className=\"mt-2 text-gray-300\">\r\n          Thank you for your purchase. Your order has been confirmed.\r\n        </p>\r\n        <div className=\"mt-4 space-y-4\">\r\n          <button\r\n            onClick={() => navigate('/shop')}\r\n            className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 px-4 rounded-md transition duration-300 transform hover:scale-[1.02]\"\r\n          >\r\n            Continue Shopping\r\n          </button>\r\n          <button\r\n            onClick={() => navigate('/')}\r\n            className=\"w-full bg-gray-800 text-gray-300 py-3 px-4 rounded-md hover:bg-gray-700 transition duration-300\"\r\n          >\r\n            Back to Home\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutSuccess;\r\n","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { XCircle } from 'lucide-react';\r\n\r\nconst CheckoutFailure: React.FC = () => {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8 text-center\">\r\n        <div className=\"bg-red-500/10 p-4 rounded-full inline-block\">\r\n          <XCircle className=\"mx-auto h-16 w-16 text-red-500\" />\r\n        </div>\r\n        <h2 className=\"mt-6 text-3xl font-extrabold text-red-400\">\r\n          Payment Failed\r\n        </h2>\r\n        <p className=\"mt-2 text-gray-300\">\r\n          We couldn't process your payment. Please try again or choose a different payment method.\r\n        </p>\r\n        <div className=\"mt-4 space-y-4\">\r\n          <button\r\n            onClick={() => navigate('/checkout')}\r\n            className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 px-4 rounded-md transition duration-300 transform hover:scale-[1.02]\"\r\n          >\r\n            Try Again\r\n          </button>\r\n          <button\r\n            onClick={() => navigate('/cart')}\r\n            className=\"w-full bg-gray-800 text-gray-300 py-3 px-4 rounded-md hover:bg-gray-700 transition duration-300\"\r\n          >\r\n            Back to Cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutFailure;\r\n","import React from 'react';\r\n\r\nconst PrivacyPolicyPage: React.FC = () => {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-12\">\r\n      <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Privacy Policy</h1>\r\n        \r\n        <div className=\"prose prose-blue max-w-none\">\r\n          <p className=\"text-lg text-gray-700 mb-6\">\r\n            Last updated: {new Date().toLocaleDateString()}\r\n          </p>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">1. Information We Collect</h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              We collect information that you provide directly to us, including:\r\n            </p>\r\n            <ul className=\"list-disc pl-6 text-gray-700 mb-4\">\r\n              <li>Name and contact information</li>\r\n              <li>Account credentials</li>\r\n              <li>Payment information</li>\r\n              <li>Shipping addresses</li>\r\n              <li>Purchase history</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">2. How We Use Your Information</h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              We use the information we collect to:\r\n            </p>\r\n            <ul className=\"list-disc pl-6 text-gray-700 mb-4\">\r\n              <li>Process your orders and payments</li>\r\n              <li>Communicate with you about your orders</li>\r\n              <li>Send you marketing communications (with your consent)</li>\r\n              <li>Improve our services</li>\r\n              <li>Detect and prevent fraud</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">3. Data Security</h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              We implement appropriate technical and organizational security measures to protect your personal data against accidental or unlawful destruction, loss, alteration, unauthorized disclosure, or access.\r\n            </p>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">4. Your Rights</h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              You have the right to:\r\n            </p>\r\n            <ul className=\"list-disc pl-6 text-gray-700 mb-4\">\r\n              <li>Access your personal data</li>\r\n              <li>Correct inaccurate data</li>\r\n              <li>Request deletion of your data</li>\r\n              <li>Object to data processing</li>\r\n              <li>Withdraw consent</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">5. Contact Us</h2>\r\n            <p className=\"text-gray-700\">\r\n              If you have any questions about this Privacy Policy, please contact us at:\r\n              <br />\r\n              Email: privacy@miniu.com\r\n              <br />\r\n              Phone: 1-800-MINIU\r\n            </p>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrivacyPolicyPage;\r\n","import React from 'react';\r\n\r\nconst TermsPage: React.FC = () => {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-12\">\r\n      <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Terms of Service</h1>\r\n        \r\n        <div className=\"prose prose-blue max-w-none\">\r\n          <p className=\"text-lg text-gray-700 mb-6\">\r\n            Last updated: {new Date().toLocaleDateString()}\r\n          </p>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">1. Acceptance of Terms</h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              By accessing and using this website, you accept and agree to be bound by the terms and provision of this agreement.\r\n            </p>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">2. Use License</h2>\r\n            <ul className=\"list-disc pl-6 text-gray-700 mb-4\">\r\n              <li>Permission is granted to temporarily download one copy of the materials for personal, non-commercial transitory viewing only.</li>\r\n              <li>This is the grant of a license, not a transfer of title.</li>\r\n              <li>This license shall automatically terminate if you violate any of these restrictions.</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">3. Disclaimer</h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              The materials on MiniU's website are provided on an 'as is' basis. MiniU makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.\r\n            </p>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">4. Limitations</h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              In no event shall MiniU or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on MiniU's website.\r\n            </p>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">5. Revisions and Errata</h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              The materials appearing on MiniU's website could include technical, typographical, or photographic errors. MiniU does not warrant that any of the materials on its website are accurate, complete or current.\r\n            </p>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">6. Links</h2>\r\n            <p className=\"text-gray-700 mb-4\">\r\n              MiniU has not reviewed all of the sites linked to its website and is not responsible for the contents of any such linked site. The inclusion of any link does not imply endorsement by MiniU of the site.\r\n            </p>\r\n          </section>\r\n\r\n          <section className=\"mb-8\">\r\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">7. Governing Law</h2>\r\n            <p className=\"text-gray-700\">\r\n              Any claim relating to MiniU's website shall be governed by the laws of the State without regard to its conflict of law provisions.\r\n            </p>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TermsPage;\r\n","import React from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children }) => {\r\n  const { state } = useAuth();\r\n  const location = useLocation();\r\n\r\n  // Show loading spinner while checking authentication\r\n  if (state.isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Redirect to login if not authenticated\r\n  if (!state.isAuthenticated) {\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\ninterface AdminRouteProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst AdminRoute: React.FC<AdminRouteProps> = ({ children }) => {\r\n  const { state } = useAuth();\r\n  const location = useLocation();\r\n\r\n  // Show loading spinner while checking authentication\r\n  if (state.isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Redirect to login if not authenticated\r\n  if (!state.isAuthenticated) {\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  // Redirect to home if not admin\r\n  if (state.user?.role !== 'admin') {\r\n    return <Navigate to=\"/\" replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default AdminRoute;","import React, { Suspense } from \"react\";\nimport { createBrowserRouter, RouterProvider, createRoutesFromElements, Route, Outlet } from \"react-router-dom\";\nimport { AuthProvider } from \"./contexts/AuthContext\";\nimport { CartProvider } from \"./contexts/CartContext\";\nimport { WishlistProvider } from \"./contexts/WishlistContext\";\nimport { ThemeProvider } from \"./contexts/ThemeContext\";\nimport ErrorBoundary from \"./components/common/ErrorBoundary\";\nimport Layout from \"./components/layout/Layout\";\n\n// Pages\nimport HomePage from \"./pages/public/HomePage\";\nconst ShopPage = React.lazy(() => import(\"./pages/public/ShopPage\"));\nconst ProductDetailPage = React.lazy(() => import(\"./pages/public/ProductDetailPage\"));\nimport CartPage from \"./pages/public/CartPage\";\nimport WishlistPage from \"./pages/public/WishlistPage\";\nimport CheckoutPage from \"./pages/public/CheckoutPage\";\nimport ContactPage from \"./pages/public/ContactPage\";\nimport AboutPage from \"./pages/public/AboutPage\";\nimport LoginPage from \"./pages/auth/LoginPage\";\nimport SignupPage from \"./pages/auth/SignupPage\";\nimport AdminDashboard from \"./pages/admin/AdminDashboard\";\nimport CheckoutSuccess from \"./pages/public/CheckoutSuccess\";\nimport CheckoutFailure from \"./pages/public/CheckoutFailure\";\nimport PrivacyPolicyPage from \"./pages/public/PrivacyPolicyPage\";\nimport TermsPage from \"./pages/public/TermsPage\";\n\n// Routes\nimport ProtectedRoute from \"./routes/ProtectedRoute\";\nimport AdminRoute from \"./routes/AdminRoute\";\n\nfunction App() {\n  const base = (import.meta as any).env?.BASE_URL || '/';\n  const router = createBrowserRouter(\n    createRoutesFromElements(\n      <Route element={<Layout><Outlet /></Layout>}>\n        {/* Public Routes */}\n        <Route path=\"/\" element={<HomePage />} />\n  <Route path=\"/shop\" element={<Suspense fallback={<div /> }><ShopPage /></Suspense>} />\n  <Route path=\"/product/:id\" element={<Suspense fallback={<div /> }><ProductDetailPage /></Suspense>} />\n        <Route path=\"/about\" element={<AboutPage />} />\n        <Route path=\"/checkout/success\" element={<CheckoutSuccess />} />\n        <Route path=\"/checkout/failure\" element={<CheckoutFailure />} />\n        <Route path=\"/contact\" element={<ContactPage />} />\n        <Route path=\"/privacy\" element={<PrivacyPolicyPage />} />\n        <Route path=\"/terms\" element={<TermsPage />} />\n\n        {/* Auth Routes */}\n        <Route path=\"/login\" element={<LoginPage />} />\n        <Route path=\"/signup\" element={<SignupPage />} />\n\n        {/* Protected Routes */}\n        <Route\n          path=\"/wishlist\"\n          element={\n            <ProtectedRoute>\n              <WishlistPage />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/cart\"\n          element={\n            <ProtectedRoute>\n              <CartPage />\n            </ProtectedRoute>\n          }\n        />\n        <Route\n          path=\"/checkout\"\n          element={\n            <ProtectedRoute>\n              <CheckoutPage />\n            </ProtectedRoute>\n          }\n        />\n\n        {/* Admin Routes */}\n        <Route\n          path=\"/admin/*\"\n          element={\n            <AdminRoute>\n              <AdminDashboard />\n            </AdminRoute>\n          }\n        />\n      </Route>\n    ),\n    {\n      basename: base,\n      future: {\n        v7_relativeSplatPath: true,\n      },\n    }\n  );\n\n  return (\n    <ErrorBoundary>\n      <ThemeProvider>\n        <AuthProvider>\n          <CartProvider>\n            <WishlistProvider>\n              <RouterProvider router={router} />\n            </WishlistProvider>\n          </CartProvider>\n        </AuthProvider>\n      </ThemeProvider>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport App from './App.tsx'\r\nimport './styles/index.css'\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n)"],"file":"assets/index-BKns1eXY.js"}
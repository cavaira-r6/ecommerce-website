import{ah as S,e as C,r,j as e,o as $,y as I,z as B,f as D,T as F,q as M,ai as T}from"./vendor-CLfIOXiu.js";import{u as E,B as x,a as h,P as Q,b as R,f as q}from"./index-BKns1eXY.js";import"./vendor_three-BC80Wlzl.js";const z=()=>{const{id:i}=S(),c=C(),{addToCart:g,getCartItem:j}=E(),[l,u]=r.useState(1),[n,p]=r.useState(0),[s,N]=r.useState(null),[d,f]=r.useState([]),[y,b]=r.useState(!0);r.useEffect(()=>{(async()=>{if(i)try{const[a,P]=await Promise.all([R(parseInt(i)),q()]);N(a);const k=P.filter(m=>m.category===a.category&&m.id!==a.id).slice(0,4);f(k)}catch(a){console.error("Error fetching product:",a),c("/shop")}finally{b(!1)}})()},[i,c]),s&&j(s.id);const v=()=>{s&&g(s,l)},o=t=>{s&&u(Math.max(1,Math.min(t,s.stockQuantity)))};if(y)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading product details..."})]})});if(!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The product you're looking for doesn't exist."}),e.jsx(x,{onClick:()=>c("/shop"),children:"Back to Shop"})]})});const w=s.originalPrice?Math.round((s.originalPrice-s.price)/s.originalPrice*100):0;return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-2",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>c("/"),className:"text-gray-500 hover:text-gray-700",children:"Home"})}),e.jsx("li",{className:"text-gray-400",children:"/"}),e.jsx("li",{children:e.jsx("button",{onClick:()=>c("/shop"),className:"text-gray-500 hover:text-gray-700",children:"Shop"})}),e.jsx("li",{className:"text-gray-400",children:"/"}),e.jsx("li",{className:"text-gray-900 font-medium",children:s.name})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-w-1 aspect-h-1 bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:s.images[n],alt:s.name,className:"h-full w-full object-cover object-center"})}),s.images.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-4",children:s.images.map((t,a)=>e.jsx("button",{type:"button",onClick:()=>p(a),className:`relative aspect-square overflow-hidden rounded-md ${a===n?"ring-2 ring-primary-600":"ring-1 ring-gray-200"}`,children:e.jsx("img",{src:t,alt:`View ${a+1}`,className:"h-full w-full object-cover object-center"})},a))})]}),e.jsx("div",{children:e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:s.name}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((t,a)=>e.jsx($,{className:`h-5 w-5 ${a<Math.floor(s.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},a))}),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[s.rating.toFixed(1)," (",s.reviewCount," reviews)"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:h(s.price)}),s.originalPrice&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"ml-3 text-lg text-gray-500 line-through",children:h(s.originalPrice)}),e.jsxs("span",{className:"ml-2 text-sm font-medium text-green-600",children:[w,"% off"]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.inStock?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:`text-sm font-medium ${s.inStock?"text-green-700":"text-red-700"}`,children:s.inStock?`In Stock (${s.stockQuantity} available)`:"Out of Stock"})]}),s.inStock&&e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx("button",{type:"button",onClick:()=>o(l-1),className:"p-2 text-gray-600 hover:text-gray-900",children:e.jsx(I,{className:"h-5 w-5"})}),e.jsx("span",{className:"px-4 text-gray-900",children:l}),e.jsx("button",{type:"button",onClick:()=>o(l+1),className:"p-2 text-gray-600 hover:text-gray-900",children:e.jsx(B,{className:"h-5 w-5"})})]}),e.jsxs(x,{onClick:v,className:"flex-1 flex items-center justify-center",children:[e.jsx(D,{className:"h-5 w-5 mr-2"}),"Add to Cart"]})]}),e.jsxs("div",{className:"prose prose-sm max-w-none mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),s.features&&s.features.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Features"}),e.jsx("ul",{className:"space-y-2",children:s.features.map((t,a)=>e.jsxs("li",{className:"flex items-center text-gray-600",children:[e.jsx("span",{className:"w-2 h-2 bg-primary-600 rounded-full mr-3"}),t]},a))})]}),s.specifications&&Object.keys(s.specifications).length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Specifications"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("dl",{className:"grid grid-cols-1 gap-4",children:Object.entries(s.specifications).map(([t,a])=>e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("dt",{className:"font-medium text-gray-900",children:t}),e.jsx("dd",{className:"col-span-2 text-gray-600",children:a})]},t))})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(F,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"text-sm",children:"Free shipping over $50"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(M,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"text-sm",children:"1-year warranty"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(T,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"text-sm",children:"30-day returns"})]})]})]})})]}),d.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Products"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:d.map(t=>e.jsx(Q,{product:t},t.id))})]})]})})};export{z as default};
//# sourceMappingURL=ProductDetailPage-CSAkLXqo.js.map

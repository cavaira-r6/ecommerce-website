import{r as c,V as R,j as e,ae as S,af as P,ag as O}from"./vendor-CLfIOXiu.js";import{B as o,P as F,f as B,g as D}from"./index-BKns1eXY.js";import"./vendor_three-BC80Wlzl.js";const q=()=>{const[t,x]=c.useState({sortBy:"name",sortOrder:"asc"}),[d,m]=c.useState("grid"),[h,k]=c.useState(!1),[y,p]=c.useState([]),[L,f]=c.useState(!0),[j,N]=c.useState([]),u=R(),[g,v]=c.useState("");c.useEffect(()=>{(async()=>{try{const[a,s]=await Promise.all([B(),D()]);p(a),N(s)}catch(a){console.error("Error fetching data:",a)}finally{f(!1)}})()},[]),c.useEffect(()=>{const a=new URLSearchParams(u.search).get("search")||"";v(a)},[u.search]);const n=c.useMemo(()=>{let r=[...y];if(g&&g.trim().length>0){const a=g.trim().toLowerCase();r=r.filter(s=>{const l=(s.name||"").toLowerCase(),w=(s.description||"").toLowerCase(),C=(s.category||"").toLowerCase();return l.includes(a)||w.includes(a)||C.includes(a)})}return t.category&&(r=r.filter(a=>a.category===t.category)),t.priceRange&&(r=r.filter(a=>a.price>=t.priceRange.min&&a.price<=t.priceRange.max)),t.inStock!==void 0&&(r=r.filter(a=>a.inStock===t.inStock)),t.rating&&(r=r.filter(a=>a.rating>=t.rating)),r.sort((a,s)=>{let l=0;switch(t.sortBy){case"name":l=a.name.localeCompare(s.name);break;case"price":l=a.price-s.price;break;case"rating":l=a.rating-s.rating;break;case"newest":l=new Date(a.createdAt).getTime()-new Date(s.createdAt).getTime();break;default:l=0}return t.sortOrder==="desc"?-l:l}),r},[t,y]),i=r=>{x(a=>({...a,...r}))},b=()=>{x({sortBy:"name",sortOrder:"asc"})};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Shop All Products"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Discover our complete collection of quality products at great prices."})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:`lg:w-64 ${h?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm p-6 sticky top-4 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"}),e.jsx(o,{variant:"ghost",size:"sm",onClick:b,className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Clear All"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Category"}),e.jsx("div",{className:"space-y-2",children:j.map(r=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"category",value:r,checked:t.category===r,onChange:a=>i({category:a.target.value}),className:"mr-2 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r})]},r))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Price Range"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"priceRange",checked:!t.priceRange,onChange:()=>i({priceRange:void 0}),className:"mr-2 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"All Prices"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"priceRange",checked:t.priceRange?.min===0&&t.priceRange?.max===50,onChange:()=>i({priceRange:{min:0,max:50}}),className:"mr-2 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Under $50"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"priceRange",checked:t.priceRange?.min===50&&t.priceRange?.max===200,onChange:()=>i({priceRange:{min:50,max:200}}),className:"mr-2 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"$50 - $200"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"priceRange",checked:t.priceRange?.min===200,onChange:()=>i({priceRange:{min:200,max:1e3}}),className:"mr-2 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Over $200"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Availability"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.inStock===!0,onChange:r=>i({inStock:r.target.checked?!0:void 0}),className:"mr-2 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"In Stock Only"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Sort By"}),e.jsxs("select",{value:t.sortBy,onChange:r=>i({sortBy:r.target.value}),className:"w-full p-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded text-gray-900 dark:text-white text-sm focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400",children:[e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"price",children:"Price"}),e.jsx("option",{value:"rating",children:"Rating"}),e.jsx("option",{value:"newest",children:"Newest"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Sort Order"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"sortOrder",value:"asc",checked:t.sortOrder==="asc",onChange:r=>i({sortOrder:r.target.value}),className:"mr-2 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Ascending"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"sortOrder",value:"desc",checked:t.sortOrder==="desc",onChange:r=>i({sortOrder:r.target.value}),className:"mr-2 text-blue-600 bg-gray-100 dark:bg-gray-700 border-gray-300 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Descending"})]})]})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[n.length," product",n.length!==1?"s":""," found"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(o,{variant:"ghost",size:"sm",onClick:()=>k(!h),className:"lg:hidden text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Filters"]}),e.jsxs("div",{className:"flex items-center border border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsx("button",{onClick:()=>m("grid"),className:`p-2 ${d==="grid"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>m("list"),className:`p-2 ${d==="list"?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:e.jsx(O,{className:"h-4 w-4"})})]})]})]}),n.length>0?e.jsx("div",{className:d==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:n.map(r=>e.jsx(F,{product:r},r.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"No products found matching your criteria."}),e.jsx(o,{onClick:b,className:"mt-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 hover:bg-gray-800 dark:hover:bg-gray-200",children:"Clear Filters"})]})]})]})]})})};export{q as default};
//# sourceMappingURL=ShopPage-O7WFK4-A.js.map
